% XLingPaper's use of TeX Technologies
% H. Andrew Black and Hugh J. Paterson III
%
% TUGboat submission

\documentclass[final]{ltugboat}

% Left justify captions for figs 9--11 (on their own page).
% maybe I'll add it to the class ...
\makeatletter
\long\def\tubleftcaption{%
  \dimen0=2\@tubfullpageindent
  \@tubfullpageindent=0pt
  \def\tubmakecaptionbox{%
    \advance\rightskip by \dimen0
    \origtubmakecaptionbox
  }
}\makeatother
\let\origtubmakecaptionbox=\tubmakecaptionbox

\usepackage{microtype}
\usepackage{graphicx}
%\usepackage{supertabular}
\usepackage[hidelinks,pdfa]{hyperref}
%\usepackage{fontspec}

\newcommand{\MB}{\,\acro{MB}}
\newcommand{\GB}{\,\acro{GB}}
\newcommand{\ELAN}{\acro{ELAN}}
\newcommand{\FLEx}{\acro{FLE}x}
\newcommand{\Graphite}{Graphite}
\newcommand{\RenderX}{\mbox{RenderX}}
\newcommand{\SIL}{\acro{SIL}}
\newcommand{\TeXLive}{\TeX{} Live}
\newcommand{\TeXML}{\TeX{}\acro{ML}}
\newcommand{\XLP}{\acro{XL}ing\texorpdfstring{\-}{}\acro{P}aper}
\newcommand{\XMLmind}{\acro{XML}mind}
\newcommand{\XXE}{\acro{XML}mind \XML{} Editor}
%\newfontfamily{\SpecialCharactersFont}{Arial}

\title{\XLP{}'s use of \TeX{} technologies}

\author{H.\ Andrew Black}
\EDITORnoaddress
\netaddress{blackhandrew (at) gmail dot com}
\author{Hugh J.\ Paterson III}
\EDITORnoaddress
\netaddress{i (at) hp3 dot me}
\personalURL{http://hp3.me}

\begin{document}
\maketitle

\font\EdNoteFont = cmu10 at 8pt
\creditfootnote{This paper was presented at \tug2021.  The
   slides that
   accompanied the presentation can be found at
   \tbsurl{https://tug.org/tug2021/assets/pdf/Andrew-Black-slides.pdf},
   and the video at
   \tbsurl{https://youtube.com/watch?v=jBCJC1HI73Y}.
   \vadjust{\smallskip} % before footnotes
}

\begin{abstract}
We discuss the use of \TeX{} technologies by \XLP{}, an authoring
tool for producing academically oriented publications with features
required for linguistic publishing. We present the \TeX{} modules used
and the rationale for the history of \XLP{} development.
\end{abstract}

\section{Introduction}
\label{sec:intro}

Within the publishing industry, there are several notable products for
producing complex documents in beautiful formats. \TeX{}
\cite{knuth:1984,knuth:1986} is one of the well-known
publishing technologies used to meet these needs.  Since 2000,
\XML{}-based technologies such as
\XSLFO{}\footnote{\tbsurl{w3.org/TR/xsl11}} or the
\TeXML{}\footnote{\tbhurl{getfo.org/texml}} project \cite{lovell:1999}
have been used to integrate content and compose complex documents such
as textbooks and maintenance manuals. Requirements for composing these
large, inter-linked documents birthed the development of tools such as
\XMLmind{},\footnote{\tbsurl{xmlmind.com/xmleditor}} the <oXygen/>
\XML{} Editor,\footnote{\tbsurl{oxygenxml.com/xml_author.html}} and
Xpublisher.\footnote{\tbsurl{xpublisher.com/products}} These tools can
be used to compose content within predefined \XML{} structures.

\XLP{}, as discussed in \cite{blackandblack:2012, black:2009,
black:2017}, seeks to provide a constrained environment in which
authors of complex works dealing with language descriptions and
linguistic analyses can focus on content structure independently from
the styling requirements of documents. In this way the underlying
design principle of \XLP{} maximizes the \SGML\ design practice of
separating content from presentation. With \XLP{}, authors can keep
content structure independent from page layout information and thereby
provide maximal transferability between publishing styles. The
software does this while providing authors a clear structured
interface for authoring content.

\XLP{} is designed to reduce friction in the process of writing,
composing, and publishing linguistic papers, grammars, and books by
removing common time-sinks related to inconsistent formatting
(especially citations, references, and numbered elements like
examples). A full list of benefits to all parties in the publishing
workflow is available \cite{black:2017}.

The \XLP{} software has a growing number of users who have
successfully typeset complex documents which, among others, include:

\begin{itemize}
\item master theses \cite{lamicela:2020,paterson:2021,Wood:2012},
\item doctoral dissertations \cite{ebarb:2014,rasmussen:2018},
\item textbooks \cite{marlett:2019},
\item linguistic grammars \cite{buck:2018},
\item books \cite{bartholomew:2019,rastorgueva:2012},
\item journal articles \cite{brownie:2013,paterson:2021b}, and
\item bilingual software documentation \cite{BeadleandLee:2020a,BeadleandLee:2020b}.
\end{itemize}

\begin{figure}
\includegraphics[scale=.425]{images/Several-different-document-types.png}
\caption{\XLP{}'s predefined document types via~\DTD{}.}
\label{fig:doctypes}
\end{figure}

\begin{figure*}
\includegraphics[scale=.243]{images/XLingPaper-interface.png}
\caption{\XLP{}'s user interface. Left side: document content editing.
\newline Right side: block and line level units available for use at the
cursor location.}
\label{fig:UI}
\end{figure*}

\section{What is \XLP{}?}
\label{sec:whatisxlp}
\XLP{}\footnote{\tbsurl{software.sil.org/xlingpaper}} is a plug-in to
the \XXE{}. \XLP{} benefits from the \XXE{}'s Java-based
implementation which allows it to be used on \MacOSX{}, Windows, and
Linux. Via a \DTD{}, \XLP{} defines several document classes
(articles, books, chapters, etc., as illustrated in
Figure~\ref{fig:doctypes}), in each case providing document layout
sections (paragraphs, examples, endnotes, etc.). Figure~\ref{fig:UI}
illustrates the main screen of the user-interface of \XXE{}.  By using
this interface, formatting errors are reduced because users are
constrained on where in the document flow they can introduce block and
line level document elements.  That is, first, authors cannot input
page layout instructions directly into the document and second, the
introduction of layout sections within the document flow is
constrained via the \DTD{}.

For many, the \PDF{} format is the quintessential file format for
final distribution of publishing outputs. \XLP{} supports \PDF{}
production; however, as illustrated in Figure~\ref{fig:pipeline},
\XLP{} can produce documents in (currently) five formats, all from
the same source document:
\begin{compactitemize}
\item \PDF{} (version 1.5),
\item Web pages (\HTML{} 4),
\item Microsoft Word (\texttt{.doc}),
\item Open Office Writer Document (\texttt{.odt}), and
\item e\acro{PUB}.
\end{compactitemize}

\begin{figure*}
\centerline{\includegraphics[scale=.3125]{images/Data-Flow-diagram.png}}
\caption{\XLP{}'s data processing pipeline to multiple formats.}
\label{fig:pipeline}
\end{figure*}

\XLP{} automatically numbers tables, examples, figures, and
sections. It keeps track of internal references to these entities
along with citation references, abbreviations, and gloss
abbreviations.  This keeps numbering and reference links dependable
and automated. \XLP{} also automatically generates indexes, a
table or list of abbreviations used, and a section for references
cited (using a custom references implementation).

Unlike most editing programs which are based on either the \WYSIWYG{}
paradigm or are unconstrained text editors such as those used to code
or produce Markdown, \XLP{} (via the \XXE{}) is a structured editor
much more like the block editors we see in tools like
MailChimp\footnote{\tbsurl{mailchimp.com}} or WordPress's Gutenberg
editor,\footnote{\tbsurl{developer.wordpress.org/block-editor}} albeit
without the drag-and-drop features. Rather than visually structuring
the document to look the way it is to be formatted, the author
``marks up'' the items in the document according to
their kind.  One of the many benefits of using a \DTD{} is
that there is a ``grammar'' of what a well-formed
linguistic document looks like.  This makes moving, replacing,
switching, or reordering sections, chapters, tables, figures, and
examples less error prone because it prevents users from inadvertently
creating ill-formed documents. The following sections of this paper
discuss the \TeX{} technologies used by \XLP{}.

\section{\XLP{} and \TeX{}}
\label{sec:xlpandtex}

Linguistic publishing has unique requirements when compared to general
publishing. The following sections provide more detail on the
linguistic publishing context, design requirements and \LaTeX{}
packages used by \XLP{}.

\subsection{\TeX{} and linguistic document production}
\label{sec:texling}

\TeX{} has long been embraced by linguists. Peter \cite{peter:2004}
writes of a personal communication with Don Knuth where Knuth suggests
that linguists were some of the earliest adopters outside of
mathematicians.  Thiele \cite{thiele:2007} in an interview given in
2007 states that she was typesetting linguistic journals via \TeX{} in
1983\Dash{}a date prior to the formal publication of Knuth's book on using the \TeX{}
typesetting system \cite{knuth:1984}. Thiele \cite{thiele:1995} gives
an early overview of \TeX{} use in linguistics with mention of
significant repositories outside of \CTAN{}. A~slightly more recent
(2004) update by Peter \cite{peter:2004} provides some additional tips
and tools for typesetting common information structures in linguistic
publishing.

The \TeX{} community has produced many packages which have
shaped the visual face of publishing in linguistics, including
\texttt{tipa}\footnote{\tbsurl{ctan.org/pkg/tipa}} by Rei
\cite{rei:1996}, which provided access to an excellent typeface for
phonetic transcriptions, and
\texttt{pst-asr}\footnote{\tbsurl{ctan.org/pkg/pst-asr}} by Frampton
\cite{frampton:2006} for autosegmental representations. Some packages
used in linguistic publishing are special purpose but are not
exclusive to linguistics. For example, Donnelly \cite{donnelly:2013}
describes how to use various packages to draw phonetic pitch traces
using \TeX{}. Peter \cite{peter:2004} and Thiele \cite{thiele:1995}
list and review (through 2004) various packages across several
areas of linguistics. Among others, they discuss several packages used
to draw syntax trees such as
\texttt{qtree}\footnote{\tbsurl{ctan.org/pkg/qtree}} and
\texttt{forest}\footnote{\tbsurl{ctan.org/pkg/forest}} and specialized
packages for presenting examples and interlinear glossed texts such as
\texttt{expex}.\footnote{\tbsurl{ctan.org/pkg/expex}} Their reviews
also discuss packages such as
\texttt{covington}\footnote{\tbsurl{ctan.org/pkg/covington}} and
\texttt{gb4e}\footnote{\tbsurl{ctan.org/pkg/gb4e}} whose collections
of macros serve a variety of page layout functions targeted at
publishing in linguistic topics.

The \CTAN{} repository currently lists fifty-four different \TeX{}
packages for linguistic
typesetting,\footnote{\tbsurl{ctan.org/topic/linguistic}} though some
of these packages also include capabilities targeted as multi-lingual
or multi-script publications or are specific style sheet
implementations for publications at linguistic programs within
institutions of higher education (there may be more packages which are
not tagged but should be). Several of the packages tagged
``linguistic'' pre-date Unicode \cite{unicode:1991} but still see
significant use. Sometimes it is the case that secondary packages are
developed in an attempt to ``fix'' publishing outputs in different
ways, to bring Unicode features along with the features of the original
package. For example, \texttt{tipa} is not Unicode compatible, but the
packages \texttt{unitipa}\footnote{\tbsurl{ctan.org/pkg/unitipa}} and
\texttt{tipauni}\footnote{\tbsurl{ctan.org/pkg/tipauni}} seek to
address different implications of not publishing with Unicode while
giving access to the beautiful typeface of
\texttt{tipa}. Understanding the long history of publishing and the
packages' interdependencies (including the order of loading
packages) constitute barriers of adoption to new \TeX{} users.

We discuss \TeX{} barriers of adoption for two reasons. First, it
exemplifies some of the complexities that \XLP{} seeks to simplify, as
it presents authors not just a visual environment for document
composition, but also a cohesive output solution. Second, it speaks to
the software design process in finding the minimal viable
product. That is, {\em how much (or little) of a software stack is
  needed to make a usable software product for linguistic publishing?}

The \TeX{} community is divided on this. While the diagrams in
linguistic books and journals since the 1980s exemplify many
beautiful, sharp, crisp, illustrations created directly in \TeX{},
many trainers of \TeX{} tools,\footnote{\raggedright Among others, see the
Linguistics Dissertation guides for the University of
\Hawaii\ at Mānoa \cite{holton:2021}, the
University of Pennsylvania \cite{dimitriadis:2016}, and Language
Science Press Guidelines \cite{nordhoffandmueller:2020}.} but not
all,\footnote{For counterexamples see \cite{freitagupriemer:2019, liter:2017,
priemerufreitag:2019, smithsniderwiegand:2016}.} have steered authors towards a more
generic set of packages which do not include specific diagram-creating
macros. Rather, they suggest that authors use secondary illustration
tools to generate illustrations and then include them as vector
\PDF{}s or images.

This second method is the document
production path that the \XLP{} philosophy follows. That is, \XLP{}
reduces the complexity of the typesetting task for authors by
requiring complex visualizations to be produced via graphical
tools. We have found tools like Figma\footnote{\tbsurl{figma.com}} and
Inkscape\footnote{\tbsurl{inkscape.org}} very helpful in the graphic
production task. The \XLP{} product seeks to: lower barriers of entry,
only produce valid documents, and keep the code base to a minimum.

As mentioned in the discussion of \texttt{tipa}, linguistic documents
were typeset by \TeX\ before Unicode existed. Unicode was introduced in
1991 and by the early 2000s Unicode along with document and data
storage in \XML{} formats were being heralded in academic linguistics
as a best practice in order to avoid vendor lock-in, increase
interoperability across use cases, and to separate data life-cycles
from encoding or software life-cycles \cite{BirdSimons:2002,
BirdSimons:2003, ward:2002}. Due to the heavy reliance on
Unicode by today's practitioners of language documentation and
linguistic work, \XLP{} specifically uses \XeLaTeX{} and
compatible packages to produce \PDF{} outputs. This brings continuity
to the text input process for users across their workflows. It also
makes importing and using language or phonetically transcribed
examples simpler by removing the need to use macros to derive
characters.

\subsection{Design desiderata for \XLP{} outputs via \TeX{}}
\label{sec:design}

Three goals have driven the development of \XLP{}:

\begin{itemize}
\item separation of content and style,
\item software accessibility (license and size), and
\item beautiful multi-format outputs.
\end{itemize}

\noindent Deciding how \TeX{} technologies fit within the project has
been a journey.  The development of \XLP{} started in 2001 without any
use of \TeX{} technologies. In 2006, \XLP{} added \XSLFO{} for \PDF{}
production. Prior to 2009, \XLP{} used \RenderX{}'s
\acro{XEP}\footnote{\tbhurl{renderx.com/tools/xep.html}} product to
produce \PDF{} documents.  As far as we know, there are two
cross-platform \XSLFO{} processors written in Java: \RenderX{}'s
\acro{XEP} application and the Apache \acro{FOP}
project.\footnote{\tbsurl{xmlgraphics.apache.org/fop/index.html}}
Using a Java implementation reduces the size of the required stack
because the \XXE{} requires Java.

\XSLFO{} processors can have
various degrees of implementation of the \XSLFO{} standard. \RenderX{}
has some limitations which affect page layout but has more complete
coverage than the Apache \acro{FOP} project which lacks certain required
table-oriented
capabilities.\footnote{\tbsurl{xmlgraphics.apache.org/fop/compliance.html}}
The limitations of \RenderX{} are discussed in
Section~\ref{sec:outputs}. In 2009 plans were made to add
\XeLaTeX-based output to \XLP{} because, while there was a free
version of \RenderX{}, the output contained a watermark.  By
implementing the ability to export to \PDF{} via \XeLaTeX, watermarks
could be avoided. The \XeLaTeX{} method of \PDF{}
production is now the default method to produce \PDF{} documents,
although the \RenderX{} method is still possible.

Maintaining a separation of content and style in the \XLP{}
environment was a key design requirement. When the \XeLaTeX{} method
of \PDF{} production was introduced, \XLP{} already had a way to
format output per a user-created publisher style sheet\Dash{}allowing
great flexibility due to the separation of style and content. Using
\TeX{} technologies meant the developer (Andrew Black) needed to be
able to map from an \XLP{} publisher style sheet to \XeLaTeX{}. It was
known that \LaTeX{} was the ideal \TeX{} implementation to
target. However, pure \LaTeX{} came with predefined output formatting
for front matter, chapters, sections, back matter, etc.  Pure
\LaTeX{}, then, would not allow direct control of formatting of all of
these per an \XLP{} user-defined publisher style sheet.  This required
overriding these standard features of \LaTeX{} with a custom
implementation of the \TeX{} commands needed to control
formatting. \XLP{} takes a custom approach in implementing flexibility
here.  Table~\ref{tbl:commands} lists the custom commands implemented.
\begin{table*}
\caption{Custom commands used by \XLP{}}
\begin{tabular}{@{}lp{4.9in}@{}}
\\[-9pt]
\hline
\\[-10pt]
{\bf Command for} & {\bf Purpose}\\
\\[-10pt]
\hline
\\[-10pt]
Table of contents & Store and retrieve page numbers; format the
contents.\\[2pt]
Lists & Numbered and bulleted lists with control over
indents, etc.\\[2pt]
Examples & Example number and example content, where
the content can be a line, a list of lines, a set of words, a list of
a set of words, interlinear, a list of interlinears, etc.\\[2pt]
Indexes & Handle keeping track of \XLP{}'s indexing
capability, including page numbers.\\[2pt]
Interlinears & Handle lines in an interlinear text or example,
including dealing with an \acro{ISO} 639-3 code in an interlinear
example.\\[2pt]
Block quotes & Handle special cases needed for block quotes.\\[2pt]
Table headers & Attempt to calculate a column's width via its
contents.\\[1pt]
\hline
\end{tabular}
\label{tbl:commands}
\end{table*}

The programmer of \XLP{} recently discovered
\texttt{memoir}\footnote{\tbsurl{ctan.org/pkg/memoir}}
\cite{wilson:2007,wilson:2021}. As a package, \texttt{memoir}
accomplishes many of the same tasks and could be considered to replace
some of the custom code if it were shown to be easy to implement and
that the size of the total \XLP{} code base would be reduced.

The distributability of the software was also seen as a design
requirement. Distributability is understood to have two components:
license and accessibility, including size.

From the outset, \XLP{} was designed to be costless to the end
user. It is licensed under the \acro{MIT} license, and its code is currently
available on Github.\footnote{\tbsurl{github.com/sillsdev/XLingPap}}
The \XXE{} had a costless Personal Use License that met the
distributability goal for the majority of the initial target audience
of \XLP{}.  The few \XLP{} users who did not meet the terms of that
license most likely would be able to afford to purchase (or have their
organization purchase) a professional license of the \XXE{}.  The
\XLP{} plug-in has always been free.\looseness-1

The software size of \XLP{} is a major design influencer.  Many of the
expected users of \XLP{} live and work in places around the world
where Internet connections are characterized by high costs, low
bandwidth capacity, and general unavailability.  Therefore, the
download required to install \XLP{} needed to be as small as
possible. On Windows the current full \XLP{} installer is 146\MB, and
the \XXE{} installer is 116\MB. Both are required. This stands in
contrast to the \TeXLive\ 2010 installer which has a size of about
1.2\GB\ when downloaded and 2.38\GB\ when uncompressed.  The size
constraint impacts \XLP{} because its distribution must be independent
of larger mainstream \TeX{} distribution solutions which have a large
footprint.  This, of course, includes \TeXLive.  Therefore the
developer identified which \LaTeX\ packages and binaries were needed
and created a custom installation package which met the required
specifications.

\XLP{} currently uses the following \LaTeX{} packages (in
alphabetical order):

\smallskip
\begin{tabular}{@{}ll@{}}
\texttt{attachfile2} & \texttt{lineno}\\
\texttt{booktabs} & \texttt{longtable}\\
\texttt{calc} & \texttt{lscape}\\
\texttt{color} & \texttt{mdframed}\\
\texttt{colortbl} & \texttt{multirow}\\
\texttt{etoolbox} & \texttt{polyglossia}\\
\texttt{fancyhdr} & \texttt{setspace}\\
\texttt{fontspec} & \texttt{tabularx}\\
\texttt{footmisc} & \texttt{ulem}\\
\texttt{hyperref} & \texttt{xltxtra}\\
\end{tabular}
\smallskip

\noindent The twenty \LaTeX{} packages that are part of the custom \XLP{}
distribution are still rather large for someone for whom
Internet bandwidth is an expensive and inconsistent commodity.

To reduce bandwidth requirements two assumptions were made which have
more or less proven to obtain. The first assumption was that the
twenty packages and binaries would not need to change over time; in
contrast, the second assumption was that \XLP{} would acquire new
features and need bug fixes. These assumptions resulted in an
architecture where page layout information expressed in \XML{} is
translated via custom \TeX{} commands to either \TeX{} directly or to
commands understood by \LaTeX{} packages distributed with \XLP{}. This
abstraction layer was then executed when the \XeLaTeX{} file was
processed.

This middle layer has granted \XLP{} flexibility in adding
new code and capabilities while keeping the ``heavy'' \LaTeX\ packages
stable. The net result is a ``heavy'' first install package (116\MB),
but light-weight upgrade packages (6.21\MB). In the thirteen-year
history of development, there have been a few occasions where upgrades
have required the download of new ``heavy'' packages. One such case
was when the ability to use framed units was added. These elements
depend on the
\texttt{mdframed}\footnote{\tbsurl{ctan.org/pkg/mdframed}} package
\cite{DanielandSchubert:2013}. The architecture separating stable
packages from custom code, however, has generally worked out well and
kept update sizes low.

\subsection{\PDF{} production}
\label{sec:pdf}

We know of two existing pathways for converting \XML{} content into \PDF{}s. The
first is via \XSLFO{}, and the second is via \TeXML{} which converts
\XML{} content to \TeX{}-formatted documents for further processing to
\PDF{}.

Given certain limitations in both \XSLFO{} and \TeXML{},
\XLP{} uses a custom (or third) method. When an author instructs
\XLP{} to produce \PDF{} output via \XeLaTeX{}, \XLP{} produces a
\TeXML{}-like \XML{} file. This is then converted into a
\LaTeX{}-formatted document via a set of \XSLT{} transforms and processed via
\XeLaTeX{} to produce the \PDF{}.  Figure~\ref{fig:pipeline} contains
a diagram of the data handling process.

\subsection{\TeXML{}}
\label{sec:texml}

\TeXML{} was discovered in the process of planning for the transition
of the default \PDF{} renderer from \RenderX{}'s \acro{XEP} to
\XeLaTeX{}. Initial analysis conducted in 2009 understood \TeXML{} to
have two infelicities for use-cases required in linguistic publishing
with \XLP{}:

\begin{enumerate}
\item \TeXML{} has Python as a dependency and the \XLP{} developer did
  not want to require \XLP{} users to install a version of Python
  specifically for \TeXML{}.  The use of Python raised two concerning
  issues. First, potential conflicts with other installed versions of
  Python; and second, an increase in the required download size due to
  the inclusion of Python.
\item \XLP{} users require a high degree of control of white
  space. The fine grain control of whitespace was not immediately
  clear how to accomplish with \TeXML{}.
\end{enumerate}

\subsection{Control characters}
\label{sec:controlcharacters}

Even with the use of Unicode in the text of documents, there are some
features of typesetting with \TeX{}-based implementations which
require the use of control characters. Additionally, \XML{} also has
control characters. In \TeX{} these include \texttt{{[}},
  \texttt{{]}}, \texttt{\char`\<{}},
  and~\texttt{\char`\>{}}.
When transforming data between \XML{} and
\TeX{}, \TeX{} control characters and commands need to be escaped to
ensure proper data processing. This has been implemented via Java
since Java was already present in the dependency stack due to the
\XXE{} requiring it. Additionally, some small methods have been
written in Java to provide additional access to features via the
graphical user interface.  Among other things, these include adding
rows and/or columns to tables, automatically converting glosses to
abbreviation references, and importing references from various \XML{}
formats.

\subsection{Ling-\TeX{}}
\label{sec:lingtex}

One might ask, ``Why not add more linguistic-related \TeX{}
packages to the available stack, or use those instead of creating
custom code?'' The answer has two simple parts: First, in 2009
the linguistic capabilities of \TeX{} packages were different than
they are today.  Second, \XLP{} is more than a \TeX{} document
producer. For example, some authors \cite{BeadleandLee:2020a},
\cite{BeadleandLee:2020b} use \XLP{} to manage multilingual content on
websites.

\begin{figure}
\includegraphics[scale=.2125]{images/XLingPaper-Outputs.png}
\caption{\XLP{} combines style and content information contained
  in its custom \XML{} and then exports it into three different formats
  for further processing.}
\label{fig:exportedformats}
\end{figure}

Besides \TeX{}, \XLP{} also produces \XSLFO{} and \XHTML{}/\CSS{}
outputs. When new features are considered for inclusion, they must be
considered for all output formats.

After excluding \TeXML{} as a viable option, and still seeking to
create \XeLaTeX{}-based output, a solution was needed to determine
which set of minimal \TeX{} packages would be needed. The Ling-\TeX{}
group,\footnote{\raggedright\tbsurl{web.archive.org/web/20150702123633/http://heim.ifi.uio.no/~dag/ling-tex}}
which also ran the Ling-\TeX{} mailing list from 1995--2018,
was discovered.\footnote{\tbsurl{ling-tex.ifi.uio.narkive.com}}
Ling-\TeX{} seemed to be the locus of activity in linguistic
typesetting via \TeX{} even though other web pages discussing
linguistics and \TeX{} also existed, e.g.,
Essex\footnote{\tbsurl{essex.ac.uk/linguistics/external/clmt/latex4ling}}
and \acro{UP}enn.\footnote{\tbsurl{ling.upenn.edu/advice/latex.html}} Today, now
that the mailing list is no longer in operation, many of the mailing
list participants can be found interacting on the \TeX{}
stackexchange.\footnote{\tbsurl{tex.stackexchange.com}}

State-of-the-art for \TeX{}-based linguistic publishing in 2009, as
recommended by the Ling-\TeX{} website, suggested using
\texttt{covington} and {\em ling-mac}\Dash{}the list of macros
discussed by Thiele in \cite{thiele:1995}. These macros were used to
solve similar use cases, among others, to those already implemented by
\XLP{}. Their approaches and outputs, however, had more limitations
than what \XLP{} already offered.  \XLP{} had the following
capabilities for typesetting interlinears:

\begin{itemize}
\item no limits on the number of lines within an interlinear grouping;
\item no limits on the number of free translation and literal
  translation lines;
\item the ability to include a source reference within the
  interlinear; and especially
\item the ability to tag interlinear items with an \acro{ISO} 639-3
  code for the language used in the interlinear.
\end{itemize}

\noindent At the time the best solution given the state of the \TeX{}
packages available was custom \TeX{} scripts, although now similar
features may be possible via other packages. For example in 2019
Pellard \cite{pellard:2019} discussed the limiting approaches in
various \TeX{} packages related to interlinear glosses and his
solution
\texttt{typgloss}.\footnote{\tbsurl{github.com/tpellard/typgloss}}
\XLP{}'s examples can be seen in
Figures~\ref{fig:interlinearexample}--\ref{fig:interlineartext}
which contain output illustrating some of the special capabilities
\XLP{} offers.

\section{Typesetting tasks \XLP{} users often encounter}
\label{sec:typesetting}

Linguistic documents have several formatting needs that other kinds of
documents do not. This section discusses some of them.

\subsection{Numbered example layouts}
\label{sec:numberedexamples}

Linguistic documents usually have many numbered examples.  The prose
often refers to examples which are typographically nearby or to
previous examples.  \XLP{} automatically keeps track of the example
identifiers. This is especially important in linguistic publishing
because authors, and publishing style sheets, often make use of
different kinds of examples, including sub-examples, and table-like
design layouts which can contain lists of words along with their
glosses (as shown in Figure~\ref{fig:listword}) and interlinear
clauses (as shown in Figure~\ref{fig:interlinearexample}). Some cases
even have headings in portions of the example.
\begin{figure}[ht]
\includegraphics[scale=.16]{images/Rasmussen.png}
\caption{List of words as seen in \cite{rasmussen:2018}}
\label{fig:listword}
\end{figure}

\begin{figure*}
\includegraphics[scale=.97]{images/ExamplePDFInterlinear.png}
\caption{Interlinear example from \cite{marlett:2012}. Note the
  example numbers on the left followed by example groups (a) and
  (b). Each interlinear then also has a language indicator in square
  brackets. Customization allows for as many rows per group as is
  required. Finally, on the right the hyperlinked citation to the
  reference for the source text is indicated.}
\label{fig:interlinearexample}
\end{figure*}

\subsection{Interlinear glossed texts}
\label{sec:interlinear}

There is a long tradition within linguistics and language study of
presenting phrases containing different languages (but the same
content) as interlinear texts. Di~Biase-Dyson et
al.\ \cite{DiBiaseDysonEtAl:2009} trace the practice back as far as
the 1652 publication of Kircher \cite{Kircher:1652}. More recent
publications display significant variation in page layout related to
interlinear glossed texts and interlinear examples. Variation exists
in three dimensions:

\begin{itemize}
\item content elements,
\item data-structure of the encoded elements, and
\item page layout (visual display of the elements).
\end{itemize}

\noindent A full demonstration of the variation in content and its positioning
across common style sheets in linguistics is beyond the scope of this
paper. Significant variations include the presence or absence of the
following elements:

\begin{itemize}
\item index elements such as example numbers or sub-numbers (as shown
  in Figure~\ref{fig:interlinearexample}),
\item headings to the interlinear,
\item speaker indicator,
\item language indicator,
\item citation indicator pointing to the larger text from which the
  example element is taken (see Figure~\ref{fig:interlinearexample}
  for an example), and
\item limits on the number of rows in the original, gloss,
  translation, and free translation tiers.
\end{itemize}

\noindent Existing \TeX{} packages approach these content requirements
in different ways. As far as we can tell, the following commonly used
packages for interlinear glossing all have limitations to some
degree. The \texttt{expex} package does not offer a content solution
for the language code or the citation. The package
\texttt{langsci-gb4e},\footnote{\tbsurl{ctan.org/pkg/langsci}} a
fork of \texttt{gb4e}, supports the {\em Leipzig Glossing
  Rules},\footnote{\tbsurl{eva.mpg.de/lingua/pdf/Glossing-Rules.pdf}}
a commonly adopted set of linguistic typesetting conventions.  While
the Leipzig Glossing Rules do call for the language name or identifier
to appear on the right hand side of the interlinear glossed text, it
does not have a place for the citation. The package \texttt{linguex}
does not have either language or citation content places built
in. With these considerations, it was clear in 2009 that \XLP{}
offered more to authors than any single package in the \TeX{}
ecosystem. In order to implement existing \XLP{} features, it meant
creating custom \TeX{} scripts to implement interlinear texts.

There are also some reasons related to data structure for considering
\XLP{} over alternatives. Interlinear glossed texts are often stored
in one of a few formats: \ELAN{}
files,\footnote{\tbsurl{archive.mpi.nl/tla/elan}} \FLEx{} Text
files,\footnote{\tbsurl{software.sil.org/fieldworks}} Standard Format
files,\footnote{\tbsurl{software.sil.org/toolbox}} \LaTeX{}
files,\footnote{For examples see \cite{schenneretal:2016} and
\cite{so:2021}.} custom project-specific \XML{} files, or relational
databases such as My\SQL, Postgre\SQL, or FileMakerPro. Moving content
from analysis and markup tools to typesetting tools is an ever-present
need for linguists. Several tools such as \ELAN{} and \FLEx{} have
well-established workflows for data transfer
\cite{SalffnerGavid:2014}. \FLEx{} is often considered the tool of
choice for many field linguists, language documenters, and
lexicographers. For many linguists entering the field, it is the tool
of choice over older tools like Toolbox (which uses Standard Format
files) due to built-in collaborative features and grammar parsers
\cite{BeierandMichael:2022}. Interlinear text in \FLEx{} can be
exported via \XML{} and the data used within \XLP{} documents. This
presents \FLEx{} users the opportunity to typeset their texts rather
easily. Enabled by \XML{}'s modular document referencing features,
\XLP{} documents can reference components. Using the \XML{} document
referencing strategy with \XML{}-encoded \FLEx{} texts allows authors to
reflow typesetting outputs easily if they make content changes in
their \FLEx{} environment.

\XLP{} does not have a direct \ELAN{} import process. However, we have
had reports of linguists using the \FLEx{}-\XLP{} publication pathway
to typeset \ELAN{} texts in \LaTeX{} documents. One user reports
capturing the \XeLaTeX{} document prior to rendering and then copying
the relevant \TeX{} sections to their primary document and adding any
required packages required by \XLP{} to the header of their primary
\TeX{} document.

\begin{figure*}
\center
\includegraphics[scale=0.5]{images/HalbiDN-1-10.png}
\caption{Wrapped interlinear text as seen in \cite{Woods:inprep}.}
\label{fig:interlineartext}
\end{figure*}

Finally, there is the matter of page layout. The main types of
variation in page layout we have seen include the grouping of lines
into sets or subsets (see Figure~\ref{fig:interlinearexample} for
example), the labeling of sets and subsets, wrapping of interlinear
glosses across lines (recall that these may themselves include three
or more lines), and the alignment of the various elements of content
within the interlinear glosses. We have seen word and morpheme aligned
interlinears.  \XLP{} automatically wraps interlinears which makes the
author's job much easier.  Figure~\ref{fig:interlineartext}
demonstrates the wrapping of interlinear glossed texts. It does so by
formatting each aligned word in an \texttt{hbox} and then having
\XeLaTeX{} put them together in a hanging indent paragraph. This is
based on the work of Kew \& McConnel 1990 \cite{kew:mcconnel}.
Similar examples can be seen in \cite{marlett:2019threetexts} and
\cite{nmeAndMarlett:2011}, among others.

\subsection{Gloss abbreviations}
\label{sec:abbreviations}

Linguists use two types of abbreviations. First, they might use
abbreviations for names, titles, or commonly used words. This is much
like standard publishing. The second way that linguists use
abbreviations is to indicate the grammatical meaning of pieces of
words (morphemes). This second usage is often referred to as
`glossing' with the abbreviations referred to as `glosses'. One
common set of glosses is the {\em Leipzig Glosses}. Leipzig Glosses,
however, are not universally used for several reasons, including:

\begin{itemize}
\item some authors have established their own tradition within their
  works which they started prior to the release of the Leipzig
  Glosses,\footnote{For examples of the variation and scope of
  coverage consider the works of Greville Corbett, William Croft,
  Denis Creissels, and Martin Haspelmath.}
\item the typeset examples are quoted from a database which does not
  use Leipzig Glosses,
\item they are not comprehensive, and
\item they are not theoretically sufficient for some linguists.
\end{itemize}

\noindent \XLP{} supports both types. \XLP{} approaches this by providing
built-in access to Leipzig Glosses, but also allowing the author to
fine-tune a set of abbreviations and their definitions.  When
producing the output, \XLP{} creates hyperlinks between the
abbreviation and its definition. This allows readers to quickly find the
meaning of glosses and for the automatic generation of a table or list
of abbreviations used.

\subsection{Bibliographies}
\label{sec:bibliographies}

For better or worse \XLP{} has rolled its own bibliography
solution. Import options are provided for
\acro{MODS}\footnote{\tbsurl{loc.gov/standards/mods/}} and EndNote
\XML{} formats. This enables users to import from tools like
EndNote,\footnote{\tbsurl{endnote.com}}
Zotero,\footnote{\tbsurl{zotero.org}} and
JabRef.\footnote{\tbsurl{jabref.org}} \XLP{} uses custom \TeX{}
scripts to output \TeX{} code for final rendering. It does not rely on
\BibTeX{} or \BibLaTeX{}. Figure~\ref{fig:mixedLatinChinese} shows an
example of a bibliography created with \XLP{}.

\begin{figure}
\includegraphics[scale=0.1368]{images/Chou.png}
\caption{An \XLP{} bibliography demonstrating mixed Latin and Chinese
  scripts.}
\label{fig:mixedLatinChinese}
\end{figure}

\section{Outputs \LaTeX{} allows that others do not}
\label{sec:outputs}

While \XLP{} has a large array of linguistically-oriented formatting
capabilities across all output formats, there are some that only the
\XeLaTeX{} output can produce.  This is, of course, due to the
formatting power of \TeX{} and \XeLaTeX{}.

\subsection{Automatically wrapping interlinears}
\label{sec:autowrapping}

One of the most popular features of \XLP{} is its ability to
automatically wrap long interlinear examples and lines in interlinear
texts. As seen in Figure~\ref{fig:interlineartext}, wrapping occurs
for the glossed text tiers and free translation tiers.

For the \RenderX{} output, the interlinear examples do not wrap; they
run off to the right, which can mean completely off the page.  To fix
this, the \XLP{} user must break the interlinear into smaller units by
hand.\footnote{We note that current \CSS{} technologies enable
wrapping for \XHTML{} output, but \XLP{} does not employ it at the
moment.}

\subsection{Font rendering}
\label{sec:fontrendering}

\XeLaTeX{} renders fonts extremely well.  We show three cases where
\XSLFO{} (via \RenderX{}) and/or \XHTML{} outputs have text rendering
issues while \XeLaTeX{} does not.

\begin{figure*}
\tubleftcaption
\includegraphics[scale=0.86]{images/FontAlignmentRenderX.png}
\raisebox{-1ex}{\includegraphics[scale=0.6]{images/FontAlignmentXHTML.png}}
\raisebox{1.5ex}{\includegraphics[scale=0.86]{images/FontAlignmentXeLaTeX.png}}
\caption{Ascender/descender font differences: The \RenderX{} output is
  on the left; \XHTML{} output is in the middle; the \XeLaTeX{} output
  is on the right. Fonts used are Times New Roman 12pt and Charis \acro{SIL} 14pt.}
\label{fig:ascenderdescender}
\end{figure*}

First, when a line of text contains material rendered in different
fonts on the same line, the two fonts may not line up evenly in the
vertical direction.  See Figure~\ref{fig:ascenderdescender}.  This
mismatch is due to the two fonts having different ascender and
descender values. In order to overcome this when using \XSLFO{}, one
has to add custom commands to deal with the font that differs from the
primary font.

\begin{figure*}
\tubleftcaption
\includegraphics[scale=0.96]{images/StackedDiacriticsRenderX.png}
\hspace*{.25in}  
\raisebox{-.2ex}{\includegraphics[scale=0.96]{images/StackedDiacriticsXeLaTeX.png}}
\caption{Stacked diacritics on the third word from the left: The
  \RenderX{} output is on the left; the \XeLaTeX{} output is on the
  right.}
\label{fig:stacked}
\end{figure*}

Second, the \RenderX{} way of producing \PDF{} cannot handle stacked
diacritics, but the \XeLaTeX{} way does it very well.  See
Figure~\ref{fig:stacked}.

\begin{figure*}
\tubleftcaption
\center
\begin{tabular}{lr}
\RenderX{}:&\raisebox{-2.5ex}{\includegraphics[scale=.85]{images/AwamiRenderX.png}}\\
\XHTML{}:&\raisebox{-2ex}{\includegraphics[scale=0.85]{images/AwamiXHTML.png}}\\
\XeLaTeX{}:&\raisebox{-2ex}{\includegraphics[scale=.85]{images/AwamiXeLaTeXNoGraphite.png}}\\
(not using \Graphite{})&\\
\XeLaTeX{}:&\raisebox{-2ex}{\includegraphics[scale=.85]{images/AwamiXeLaTeXGraphite.png}}\\
(using \Graphite{})&\\
\end{tabular}
\caption{Awami Nastaliq rendering.  Only the \XeLaTeX{} output using
  Graphite is correct. Since Graphite requires a rendering engine and
  only the Firefox browser has included it, support for Graphite rendering in
  \XHTML\ is limited to Firefox. \endgraf  
  The example text is in
  the Saraiki language (spoken in Pakistan) and is a section from the
  Universal Declaration of Human Rights. We are grateful to Sharon
  Correll for this example.}
\label{fig:awami}
\end{figure*}
Third, \XeLaTeX{} can even handle special features requiring
\Graphite{}\footnote{\tbsurl{graphite.sil.org}}
processing. \Graphite{} is a multi-part technology which includes a
rendering engine and a rule-based grammar which compiles against a
TrueType font and effectively extends the font allowing for additional
glyph selection and context shaping \cite{Correll:2000, kew:2007,
sil:2021}. Figure~\ref{fig:awami} illustrates
the special font handling needed for the Awami Nastaliq font.  Of the
four output renderings, the only one which renders correctly is the
\XeLaTeX{} implementing \Graphite{}.\footnote{One must use \XLP{}'s
\XeLaTeX{} package from \TeXLive\ 2020
(\raggedright \tbsurl{software.sil.org/xlingpaper/xelatex-package-from-tex-live-2020/})
for this particular font.  The \Graphite{} included in the 2010
version of \XeLaTeX{} is not capable of rendering Awami Nastaliq
well.}

\subsection{Hyphenation for non-English languages}
\label{sec:hyphenation}

Since we use the \texttt{polyglossia} package, one can write an \XLP{}
document in any of the sixty-one non-English languages listed in the
\texttt{polyglossia} documentation and indicate the language code for
this language in a document-wide attribute.  \XLP{} passes this
information to \XeLaTeX{} which will hyphenate according to that
language's hyphenation rules.

\subsection{Author contact information}
\label{sec:authorcontact}

\XLP{} allows one to define sets of contact information for authors
containing things like name, address, affiliation, email address,
phone number, etc.  With the \XeLaTeX{} output, these author contact
information boxes will wrap if there are more of them than will fit on
one line on the page.  The lines containing these boxes will also be
justified.  The \RenderX{} output neither automatically wraps these
boxes nor justifies them.

\subsection{Vertical fill}
\label{sec:verticalfill}

For title page material, only the \XeLaTeX{} output allows using
vertical fill between items on a particular page of output.  This can
be useful for automatically inserting whatever vertical space is
needed between, say, the last author's name and some publishing
information that needs to appear at the bottom of the page.
\RenderX{} requires using overt, fixed vertical spacing values.  For
the \XeLaTeX{} output, then, one does not need to manually adjust this
vertical space for each document.  One must do so for the \RenderX{}
output, however.  This is a non-issue for the \XHTML{} output because
there are no page breaks as there are in \PDF{} output.

\subsection{Line numbering}
\label{sec:linenumbering}

When submitting an article for review, some publishers want the \PDF{}
to have continuous line numbers throughout the document.  Only the
\XeLaTeX{} output does this.

\section{Features other outputs have that the \LaTeX{} output does not}
\label{sec:missingfeatures}

\XeLaTeX{} does not allow for custom table cell padding and spacing.
Having said that, the developer cannot remember any \XLP{} user ever
asking for a way to do this for the \XeLaTeX{} output.  It just looks
fine.

Setting the background color is not available for section titles.

Section 11.17.1.1 ``Known limitations of using \XeLaTeX{}'' in the
\XLP{} user documentation lists other known problems
\cite{black:2020}.\footnote{\raggedright\tbsurl{software.sil.org/downloads/r/xlingpaper/resources/documentation/xxe7/UserDocXMLmind.htm\#sXeTeXLimitations}}

\section{Conclusion}
\label{sec:conclusion}

While the \XLP{} approach to composing documents via \DTD-controlled
user interface limitations has great value in and of itself, the fact
that it can produce great looking output via \XeLaTeX{} makes the
learning curve rewarding.  We feel that being able to produce \PDF{}
via \XeLaTeX{} has made \XLP{} a fantastic tool for linguists.

Additionally, \XLP{} serves as a model for other developers who seek a
modular approach to creating custom publishing solutions. That is, one
does not need to deploy the whole \TeXLive\ system to create great
looking outputs. Specific packages can be combined and redistributed
to fit market needs.

\appendix
\section{Hyphenation supported languages}
\label{sec:hyphenationlanguages}

\begin{tabular}{lll}
\textbf{Language}&\textbf{Two letter}&\textbf{Three letter}\\[-1pt]
\textbf{name}&\textbf{code}&\textbf{code}\\[1pt]
Albanian&sq&sqi\\%
Amharic&am&amh\\%
Arabic&ar&ara\\%
Asturian&&ast\\%
Basque&eu&eus\\%
Bengali&bn&ben\\%
Bulgarian&bg&bul\\%
Catalan&ca&cat\\%
Coptic&&cop\\%
Croatian&hr&hrv\\%
\end{tabular}\newpage\begin{tabular}{lll}
Czech&cs&ces\\%
Danish&da&dan\\%
Dutch&nl&nld\\%
English&en&eng\\%
Esperanto&eo&epo\\%
Estonian&et&est\\%
Farsi&fa&fas\\%
Finnish&fi&fin\\%
French&fr&fra\\%
Galician&gl&glg\\%
German&de&deu\\%
Greek&el&ell\\%
Hebrew&he&heb\\%
Hindi&hi&hin\\%
Hungarian&hu&hun\\%
Icelandic&is&isl\\%
Indonesian&id&ind\\%
Interlingua&ia&ina\\%
Irish&ga&gle\\%
Italian&it&ita\\%
Lao&lo&lao\\%
Latin&la&lat\\%
Latvian&lv&lav\\%
Lithuanian&lt&lit\\%
Lower Sorbian&&dsb\\%
Malay&ms&msa\\%
Malayalam&ml&mal\\%
Marathi&mr&mar\\%
Nynorsk&nn&nno\\%
Occitan&oc&oci\\%
Polish&pl&pol\\%
Portuges&pt&por\\%
Romanian&ro&ron\\%
Russian&ru&rus\\%
Sanskrit&sa&san\\%
Scottish&gd&gla\\%
Serbian&sr&srp\\%
Slovak&sk&slk\\%
Slovenian&sl&slv\\%
Spanish&es&spa\\%
Swedish&sv&swe\\%
Syriac&&syr\\%
Tamil&ta&tam\\%
Telugu&te&tel\\%
Thai&th&tha\\%
Turkish&tr&tur\\%
Turkmen&tk&tuk\\%
Ukrainian&uk&ukr\\%
Urdu&ur&urd\\%
Upper Sorbian&&hsb\\%
Vietnamese&vi&vie\\%
Welsh&cy&cym\\
\end{tabular}

\SetBibJustification{\raggedright}
\def\SILMX{Instituto Lingüístico de~Verano, \acro{A.C.}
           [\SIL\ International in Mexico]}
\bibliographystyle{tugboat}
\begin{thebibliography}{99}

\bibitem{bartholomew:2019}{Bartholomew, Doris A, and Louise C
  Schoenhals. 2019. {\em Bilingual Dictionaries for Indigenous
    Languages}. Edited by Thomas L Willett. 2nd edn. Tlalpan, Ciudad
  de México, México: \SILMX. \tbsurl{sil.org/resources/archives/80401}.}

\bibitem{BeadleandLee:2020a}{Beadle, Jennie, and Matthew
  Lee. 2020a. {\em Paratext 9 Manual\Dash in English}.
  \SIL{}~International. \tbsurl{lingtran.net}.}

\bibitem{BeadleandLee:2020b}{Beadle, Jennie, and Matthew
  Lee. 2020b. {\em Paratext 9 Manual\Dash in French}.
  \SIL{}~International. \tbsurl{outilingua.net}.}

\bibitem{BeierandMichael:2022}{Beier, Christine, and Lev
  Michael. 2022. {\em Managing Lexicography Data: A Practical,
    Principled Approach Using \FLEx{} (FieldWorks Language
    Explorer)}. In {\em The Open Handbook of Linguistic Data Management},
  edited by Andrea L. Berez-Kroeker, Bradley McDonnell, Eve Koller,
  and Lauren B. Collister, 301--14. Open Handbooks In
  Linguistics. Cambridge, Massachusetts: The \acro{MIT}
  Press. \\\tbsurl{doi.org/10.7551/mitpress/12200.003.0029}.}

\bibitem{BirdSimons:2002}{Bird, Steven, and Gary Simons. 2002. Seven
  Dimensions of Portability for Language Documentation and
  Description. In \acro{ISCA SALTMIL SIG}: ``Speech and Language
  Technology for Minority Languages'', 23--30. Las Palmas, Canary
  Islands, Spain:
  \acro{ELRA}. \tbhurl{lrec-conf.org/proceedings/lrec2002/pdf/ws15.pdf#page=29}.}

\bibitem{BirdSimons:2003}{Bird, Steven, and Gary Simons. 2003. Seven
  Dimensions of Portability for Language Documentation and
  Description. {\em Language} 79
  (3):557--82. \tbsurl{jstor.org/stable/4489465}.}

\bibitem{blackandblack:2012}{Black, Cheryl A., and H. Andrew
  Black. 2012. {\em Grammars for the People, by the People, Made
    Easier Using \acro{PAWS} and \XLP}. In Electronic
  Grammaticography, edited by Sebastian Nordhoff, 103--28. \acro{LD\&C}
  Special Publication 4. Honolulu, \Hawaii:
  University of \Hawaii\
  Press. \tbhurl{hdl.handle.net/10125/4532}.}

\bibitem{black:2009}{Black, H. Andrew. 2009. Writing Linguistic Papers
  in the Third Wave.  {\em \SIL{} Forum for Language Fieldwork} 2009
  (004): 11
  pages. \tbsurl{sil.org/resources/publications/entry/7790}.}

\bibitem{black:2017}{Black, H. Andrew. 2017. {\em Why Learn to Use
    \XLP{}}. Dallas, Texas: \SIL{}
  International. \tbsurl{software.sil.org/downloads/r/xlingpaper/resources/documentation/WhyUseXLingPaper.pdf}.}

\bibitem{black:2020}{Black, H. Andrew. 2020. {\em \XLP{} User
    Documentation} [Software Documentation]. Dallas, Texas: \SIL{}
  International. \tbsurl{software.sil.org/downloads/r/xlingpaper/resources/documentation/xxe7/UserDocXMLmind.htm}.}

\bibitem{brownie:2013}{Brownie, John. 2013. Adverbs in the
  Mussau-Emira Verb Phrase. {\em Language \& Linguistics in Melanesia}
  31 (1):1--11. \tbsurl{langlxmelanesia.com/issues}.}

\bibitem{buck:2018}{Buck, Marjorie J. 2018. {\em Gramática del amuzgo
    Xochistlahuaca, Guerrero}. (Serie de gramáticas de lenguas
  indígenas de México №16.) Tlalpan, Ciudad de México,
  México: \SILMX. \tbsurl{sil.org/resources/archives/75518}.}

\bibitem{Correll:2000}{Correll, Sharon. 2000. {\em Graphite: An
    Extensible Rendering Engine for Complex Writing Systems}. Paper
  presented at the 17th International Unicode Conference, San Jose,
  California. \tbhurl{rabbits.continuation.org/w/images/7/73/Graphite_paper.pdf.}.}

\bibitem{DanielandSchubert:2013}{Daniel, Marco, and Elke
  Schubert. 2013. {\em The~\texttt{mdframed} Package: Auto-split Frame
    environment} version 1.9b.}

\bibitem{DiBiaseDysonEtAl:2009}{Di~Biase-Dyson, Camilla, Frank
  Kammerzell, and Daniel A. Werning. 2009. Glossing Ancient
  Egyptian. Suggestions for Adapting the Leipzig Glossing Rules. {\em
    Lingua Aegyptia. Journal of Egyptian Language Studies} 17:
  343--66. \tbsurl{wwwuser.gwdg.de/~lingaeg/lingaeg17.htm}.}

\bibitem{dimitriadis:2016}{Dimitriadis, Alexis. 2016. {\em TeX/LaTeX
    Information}. Web
  page. \tbsurl{ling.upenn.edu/advice/latex.html}.}

\bibitem{donnelly:2013}{Donnelly, Kevin. 2013. Representing Linguistic
  Pitch in \XeLaTeX{}. {\em TUGboat} 34 (2):
  223--27. \tbhurl{tug.org/TUGboat/tb34-2/tb107donnelly.pdf}.}

\bibitem{ebarb:2014}{Ebarb, Kristopher J. 2014. {\em Tone and
    variation in Idakho and other Luhya varieties}. University of
  Indiana
  Ph.D. dissertation. \tbsurl{pqdtopen.proquest.com/doc/1625743679.html?FMT=ABS}.}

\bibitem{frampton:2006}{Frampton, John. 2006. {\em Pst-Asr: Tex Macros
    for Typesetting Autosegmental
    Representations}. Version:~1.1. \CTAN{}.
    \tbsurl{ctan.org/tex-archive/graphics/pstricks/contrib/pst-asr/pst-asr-doc.pdf}.}

\bibitem{frampton:2012}{Frampton, John. 2012. {\em ExPex for
    Linguists: Example Formatting, Glosses, and Reference}. Version:
  4.1. \tbhurl{mathserver.neu.edu/~ling/tex/expex/base/doc/expex-doc.pdf}.}

\bibitem{freitagupriemer:2019}{Freitag, Constantin and Antonio
  Machicao y Priemer. 2019. {\em \LaTeX-Einführung Für
    Linguisten}. Berlin, Germany: Humboldt-Universität zu
  Berlin. \tbsurl{doi.org/10.13140/RG.2.2.29299.27682}.}

\bibitem{holton:2021}{Holton, Gary. 2021. {\em Writing You
    Dissertation with
    \LaTeX}. Typescript. \Hawaii. Github.com. \tbsurl{gmholton.github.io/files/DissertationWriting.pdf}.}

\bibitem{kew:2007}{Kew, Jonathan. 2007. \XeTeX\ Live. {\em TUGboat} 29
  (1):
  146–50. \\\tbsurl{tug.org/TUGboat/tb29-1/tb91kew.pdf}.}

%% one online reference lists third author: Gary F. Simons
%%   https://www.loot.co.za/product/jonathan-kew-formatting-interlinear-text/wyln-102-g400
%% and books.google.com says Simons was "linguist".
%%   https://www.google.com/books/edition/Formatting_Interlinear_Text/of86AAAACAAJ
%% Worth including him as author?
%%
\bibitem{kew:mcconnel}{Kew, Jonathan and Stephen McConnel. 1990.  {\em
    Formatting Interlinear Text.} Occasional Publications in Academic
  Computing, Number 17. Dallas, Texas: Summer Institute of
  Linguistics.}

\bibitem{Kircher:1652}{Kircher, Athanasius. 1652. {\em Œdipus
    Ægyptiacus, hoc est Vniuersalis Hieroglyphicæ Veterum
    Doctrinæ temporum iniuria abolitæ Instauratio}. Opus ex omni
  Orientalium doctrina \& sapientia conditum, nec non viginti
  diuersarum linguarum authoritate stabilitum, Romæ: Ex~Typographia
  Vitalis Mascardi.}

\bibitem{knuth:1984}{Knuth, Donald Ervin. 1984. {\em The \TeX book}.
  {\em Computers \& Typesetting}, vol.~A. Reading, Massachusetts: American
  Mathematical Society; Addison-Wesley.}

\bibitem{knuth:1986}{Knuth, Donald Ervin. 1986. {\em \TeX: The
    Program.} {\em Computers \& Typesetting}, vol.~B. Reading, Massachusetts:
  Addison-Wesley.}

\bibitem{lamicela:2020}{Lamicela, Andrew Charles. 2020. {\em
    Distinguishing Passive from \acro{MP2}-marked Middle in Koine
    Greek}. University of North Dakota
  M.A. thesis. \\\tbsurl{commons.und.edu/theses/3277}.}

\bibitem{lehmann:2004}{Lehmann, Christian. 2004. {\em Interlinear
    morphemic glossing}. In Morphologie: Ein internationales Handbuch
  zur Flexion und Wortbildung~/ Morphology: an international handbook on
  inflection and word-formation, edited by Geert E Booij, Christian
  Lehmann, Joachim Mugdan, and Stavros Skopeteas,
  2:1834--57. Handbücher zur Sprach- und Kommunikationswissenschaft~/
  Handbooks of Linguistics and communication science 17. Berlin,
  New York: Walter de
  Gruyter. \tbsurl{doi.org/10.1515/9783110172782.2.20.1834}.}

\bibitem{liter:2017}{Liter, Adam. 2017. {\em \LaTeX\ Workshop (for
    Linguists)}. \tbsurl{adamliter.org/content/LaTeX/latex-workshop-for-linguists.pdf}.}

\bibitem{lovell:1999}{Lovell, Douglas.  1999. \TeXML{}: Typesetting
  \XML{} with \TeX. {\em TUGboat} 20 (3):
  176--183. \tbsurl{tug.org/TUGboat/tb20-3/tb64love.pdf}.}

\bibitem{marlett:2012}{Marlett, Stephen A. (compiler). 2012. La Frase
  Nominal.  In Stephen A. Marlett (ed.) {\em Los Archivos
    Lingüísticos Me'phaa}. \SILMX. \tbsurl{mexico.sil.org/publications/i-wpindex/work_papers_-_mephaa_grammar_files}.}

\bibitem{marlett:2019}{Marlett, Stephen A. 2019. {\em Phonology From
    the Ground Up: The Basics}. Dallas, Texas: \SIL{}
  International. \\\tbsurl{sil.org/resources/archives/79207}.}

\bibitem{marlett:2019threetexts}{Marlett, Stephen
  A. 2019. Presentation of three short texts in Isthmus
  Zapotec. \SIL-Mexico Electronic Working Papers \#25.  Ciudad de
  México: \SILMX. \tbsurl{https://sil.org/resources/archives/80964}.}

\bibitem{nmeAndMarlett:2011}{Neri Méndez, Emilia and Stephen
  A. Marlett. 2011 (Nov). Presentación Analítica del Texto ``Flor de
  Calabaza''. In Stephen A. Marlett (ed.) {\em Los Archivos
  Lingüísticos Me'phaa} (versión preliminar). \SILMX.
    \tbsurl{mexico.sil.org/publications/i-wpindex/work_papers_-_mephaa_grammar_files}.}

\bibitem{nordhoffandmueller:2020}{Nordhoff, Sebastian, and Stefan
  Müller. 2020. {\em Language Science Press Guidelines}. Berlin,
  Germany: Language Science
  Press. \tbsurl{langsci.github.io/guidelines/latexguidelines/LangSci-guidelines.pdf}.}

\bibitem{paterson:2021}{Paterson III, Hugh J. 2021. {\em Language
    Archive Records: Interoperability of Referencing Practices and
    Metadata Models}. University of North Dakota
  M.A. thesis. \tbsurl{commons.und.edu/theses/3937}.}

\bibitem{paterson:2021b}{Paterson III, Hugh J. 2021. {\em On Rights
    Management in Anthropological and Linguistic Sound
    Collections}. {\em \acro{ARSC} Journal} 52 (3):
  547–563. \tbsurl{arsc-audio.org/journal.html}.}

\bibitem{pellard:2019}{Pellard, Thomas. 2019. Automatic formatting of
  interlinear glosses with LaTeX. {\em Cipanglossia}
  \tbsurl{cipanglo.hypotheses.org/1221}.}

\bibitem{peter:2004}{Peter, Steve. 2004. \TeX\ and Linguistics. {\em
    TUGboat} 25 (1):
  58--62. \\\tbsurl{tug.org/TUGboat/tb25-1/peter.pdf}.}

\bibitem{priemerufreitag:2019}{Machicao y Priemer, Antonio, and
  Constantin Freitag. 2019. {\em \LaTeX-Einführung für
    Linguisten}. Presentation at the \acro{MGK} Workshop\Dash \acro{SFB} 1412,
  Berlin. \tbsurl{linguistik.hu-berlin.de/de/staff/amyp/latex20sfb/07-l4l-math2-trees-handout.pdf}.}

\bibitem{rasmussen:2018}{Rasmussen, Kent. 2018. {\em A Comparative
    Tone Analysis of Several Bantu D30 Languages (\acro{DR}
    Congo)}. University of Texas Arlington
  Ph.D. dissertation. \tbhurl{hdl.handle.net/10106/27483}.}

\bibitem{rastorgueva:2012}{Rastorgueva, V. S., A. A. Kerimova,
  A. K. Mamedzade, L. A. Pireiko, and
  D. I. Edel'man. 2012. {\em The Gilaki Language}. Edited by
  Ronald M. Lockwood. Acta Universitatis Upsaliensis; Studia Iranica
  Upsaliensia 19. Uppsala, Sweden: Acta Universitatis
  Upsaliensis. \tbsurl{urn.kb.se/resolve?urn=urn:nbn:se:uu:diva-182789}.}

\bibitem{rei:1996}{Rei, Fukui. 1996. \acro{TIPA}: A System for
  Processing Phonetic Symbols in \LaTeX. {\em TUGboat} 17 (2):
  102--14. \tbsurl{tug.org/TUGboat/tb17-2/tb51rei.pdf}.}

\bibitem{SalffnerGavid:2014}{Salffner, Sophie, and Tim
  Gaved. 2014. Working with \ELAN{} and \FLEx{} Together: An
  \ELAN{}-\FLEx{}-\ELAN{} Teaching Set. Electronic Manuscript. \acro{SOAS},
  London,
  England.
  \tbsurl{academia.edu/37765048/Working_with_FLEx_and_ELAN}.}
   % 404 \tbsurl{soas.ac.uk/elar/helpsheets/file122785.pdf}.}

\bibitem{schenneretal:2016}{Schenner, Mathias, and Sebastian
  Nordhoff. 2016. Extracting Interlinear Glossed Text from \LaTeX\
  Documents. In {\em Proceedings of the Tenth International Conference
    on Language Resources and Evaluation (\acro{LREC} 2016)}, edited by
  Nicoletta Calzolari, Khalid Choukri, Thierry Declerck, Sara Goggi,
  Marko Grobelnik, Bente Maegaard, Joseph Mariani, et al.,
  4044--48. Portorož, Slovenia: European Language Resources
  Association (\acro{ELRA}). \tbsurl{aclweb.org/anthology/L16-1638.pdf}.}

\bibitem{sil:2021}{\SIL\ International. 2012. Comparison of OpenType
  and Graphite shaping speeds in a Nastaliq context. (accessed: 27
  May 2022)
  \tbsurl{scripts.sil.org/cms/scripts/page.php?site_id=projects&item_id=graphite_otcompare}.}

\bibitem{smithsniderwiegand:2016}{Smith, Zac, Todd Snider, and Mia
  Wiegand. 2016. {\em \LaTeX\ and Linguistics\Dash How to Make Your
    Research Pretty}. Presentation at the Cornell Linguistics Circle,
  Cornell, New
  York. \tbsurl{conf.ling.cornell.edu/miawiegand/Latex_Slides.pdf}.}

\bibitem{so:2021}{So Miyagawa, and Vincent W\kern-.1em.\kern.03em J. van Gerven
  Oei. 2021. Building Web Corpus of Old Nubian with Interlinear
  Glossing as Digital Cultural Heritage for Modern-Day Nubians. In
  {\em The Proceedings of the 11th Conference of Japanese Association
    for Digital Humanities}, vol. 2021. 144--147. Tokyo:
  Historiographical Institute, The~University of
  Tokyo. \tbsurl{www.hi.u-tokyo.ac.jp/JADH/2021/Proceedings_JADH2021_rev0905.pdf}.}

\newpage
\bibitem{thiele:1995}{Thiele, Christina. 1995. \TeX{} and
  Linguistics. {\em TUGboat} 16 (1):
  42--44. \\\tbsurl{tug.org/TUGboat/tb16-1/tb46ling.pdf}.}

\bibitem{thiele:2007}{Thiele, Christina. 2007. {\em Christina Thiele
    Interview by Dave Walden for the \TeX{} Users
    Group}. Transcript. \\\tbsurl{tug.org/interviews/thiele.html}.}

\bibitem{unicode:1991}{Unicode Consortium, ed. 1991. {\em The Unicode
    Standard: Worldwide Character Encoding}. Version 1.0. Reading,
  Massachusetts:
  Addison-Wesley. \\\tbsurl{unicode.org/versions/Unicode1.0.0}.}

\bibitem{ward:2002}{Ward, Monica. 2002. Reusable \XML\ Technologies and
  the Development of Language Learning Materials. {\em Re\acro{CALL}} 14 (2):
  285--94. \\\tbsurl{doi.org/10.1017/S0958344002000629}.}

\bibitem{wilson:2007}{Wilson, Peter. 2007. The Memoir Class. {\em
    TUGboat} 28 (2):
  243--46. \\\tbsurl{tug.org/TUGboat/tb28-2/tb89wilson.pdf}.}

\bibitem{wilson:2021}{Wilson, Peter. 2021. {\em The Memoir Class for
    Configurable Typesetting: User Guide}. version 3.70. Normandy
  Park, \acro{WA}: The Herries Press. \CTAN.
\tbsurl{ctan.org/tex-archive/macros/latex/contrib/memoir/memman.pdf}.}

\bibitem{Wood:2012}{Wood, Joyce Kathleen. 2012. {\em
    Valence\hyph Increasing Strategies in Urim Syntax}. Graduate Institute
  of Applied Linguistics
  M.A. thesis. \tbsurl{diu.edu/documents/theses/Wood_Joyce-thesis.pdf}.}

\bibitem{Woods:inprep}{Woods, Frances. In preparation. {\em Halbi
    Interlinear Texts: Everyday Village Life}. Electronic Manuscript.}

\end{thebibliography}

\makesignature
\end{document}
