% This template file is public domain.
%
% TUGboat class documentation is at:
%   http://mirrors.ctan.org/macros/latex/contrib/tugboat/ltubguid.pdf
% or
%   texdoc tugboat

\documentclass{ltugboat}

\usepackage{microtype}
\usepackage{graphicx}
\usepackage[hidelinks,pdfa]{hyperref}
\usepackage{fontspec}

%%% Some product name macros
\newcommand{\SIL}{\acro{SIL}}
\newcommand{\TeXML}{\TeX{}\acro{ML}}
\newcommand{\XMLmind}{\acro{XML}mind}
\newcommand{\XXE}{\acro{XML}mind \XML{} Editor}
\newfontfamily{\SpecialCharactersFont}{Arial}

%%% Start of metadata %%%

\title{XLingPaper’s use of \TeX{} Technologies}

% repeat info for each author; comment out items that don't apply.
\author{H.\ Andrew Black}
%\address{Street Address \\ Town, Postal \\ Country}
\netaddress{blackhandrew (at) gmail dot com}
\author{Hugh J.\ Paterson III}
%\address{Street Address \\ Town, Postal \\ Country}
\netaddress{i (at) hp3 dot me}
\personalURL{http://hp3.me}
%\ORCID{0}
% To receive a physical copy of the TUGboat issue, please include the
% mailing address we should use, as a comment if you prefer it not be printed.

%%% End of metadata %%%

\begin{document}
\maketitle

\begin{abstract}
We discuss the use of \TeX{} technologies by XLingPaper, an authoring
tool for producing academically oriented publications with features
required for linguistic publishing. We present the \TeX{} modules used
and the rationale for the history of XLingPaper development.
\end{abstract}

\section{Introduction}

Within the publishing industry there are several notable products for
producing complex documents in beautiful formats. \TeX{}
\cite{knuth:1984} \cite{knuth:1986} is one of the well known
publishing technologies used to meet these needs.
 Since 2000, \XML{}-based technologies such as
\XSLFO{}\footnote{\tbsurl{www.w3.org/TR/xsl11}} or the \TeXML{}\footnote{\tbhurl{getfo.org/texml}}
project \cite{lovell:1999} have been used to integrate content and compose complex documents such
as textbooks and maintenance manuals. Requirements for composing these
large, inter-linked documents birthed the development of tools like
\XMLmind{}\footnote{\tbsurl{www.xmlmind.com/xmleditor}} and
Xpublisher.\footnote{\tbsurl{www.xpublisher.com/products}} These
can be used to compose the content within predefined \XML{}
structures.  XLingPaper \cite{blackandblack:2012} \cite{black:2009}
\cite{black:2017} seeks to provide a constrained environment in which
authors of complex works dealing with language descriptions and
linguistic analyses can focus on content structure independently from
the styling requirements of documents. In this way the underlying design principle of XLingPaper maximizes the \SGML\ design practice of separating content from presentation. With XLingPaper, authors can keep content structure independent from style information and thereby provide maximal transfer-ability between publishing styles. The software does this while providing authors a clear structured interface for authoring content.

The XLingPaper software has a growing
number of users who have successfully typeset complex documents
including:

\begin{itemize}
\item master theses \cite{Wood:2012} \cite{lamicela:2020} \cite{paterson:2021},
\item doctoral dissertations \cite{ebarb:2014} \cite{rasmussen:2018},
\item textbooks \cite{marlett:2019},
\item linguistic grammars \cite{buck:2018},
\item journal articles \cite{brownie:2013}, and
\item bilingual software documentation \cite{BeadleandLee:2020a} \cite{BeadleandLee:2020b}.
\end{itemize}

XLingpaper\footnote{\tbsurl{software.sil.org/xlingpaper}} is a
plug-in to the \XXE{}. XLingPaper benefits from the \XXE{}'s
Java-based implementation which allows it to be used on \MacOSX{},
Windows, and Linux. XLingPaper, via a \DTD{}, defines several document
classes (articles, books, chapters, etc., as illustrated in Figure~1),
in each case providing document layout sections (paragraphs, examples,
endnotes, etc.). By working within the user-interface of the \XXE{}, as shown in Figure~2,
formatting errors are reduced because users are constrained on where
in the document flow they can introduce block and line level document
elements.  That is, first, authors cannot input \XeLaTeX{} code
directly into the document and second, the introduction of layout
sections within the document flow is constrained via the \DTD{}.

\begin{figure}
\includegraphics[scale=.425]{Several-different-document-types.png}
\caption{XLingPaper predefined document types via \DTD{}}
\end{figure}

\begin{figure*}
\includegraphics[scale=.243]{XLingPaper-interface.png}
\caption{XLingPaper's user interface. Left side: document content editing. Right side: block and line level units available for use at the cursor location.}
\end{figure*}

\section{What is XLingPaper?}

As previously mentioned, XLingPaper is an \XML- and Java-based computer
plug-in for the \XXE{}.  It is designed to reduce friction in the process of writing, reading, and
publishing linguistic papers, grammars, and books by removing common time-syncs related to inconsistent formatting. A full list of benefits to all parties in the publishing
work flow is available \cite{black:2017}. For many \PDF{} is the quintessential file format for final publication of publishing outputs. XLingPaper supports \PDF{} production but as illustrated in Figure~3, XLingPaper can produce documents with at least five outputs, all from the same
source document:
\begin{itemize}
\item \PDF{} (version 1.5),
\item Web pages (\acro{HTML} 4),
\item Microsoft Word (.doc),
\item Open Office Writer Document (.odt), and
\item e\acro{PUB}.
\end{itemize}

\begin{figure*}
\includegraphics[scale=.8]{PDFCreation.png}
\caption{XLingPaper's data processing pipeline to multiple formats}
\end{figure*}

XLingPaper automatically numbers tables, examples, figures, and sections. It
keeps track of internal references to these entities along with
citation references, abbreviations, and gloss abbreviations.  This keeps numbering and
reference links dependable and automated. XLingPaper also automatically
generates indexes, a table or list of abbreviations used, and a
section for references cited (using a custom references
implementation).

Unlike most editing programs which are based on either the \WYSIWYG{}
paradigm or as text editors used to code or produce Markdown,
XLingPaper (via the \XXE{}) is a structured editor. Rather than
visually structuring the document to look the way it is to be
formatted, the author “marks up” the items in the
document according to their kind.  One of the many benefits that using
a \DTD{} provides is that there is a “grammar” of what
a well-formed linguistic document looks like.  This makes moving,
replacing, switching, or reordering sections, chapters, and examples
less error prone because it prevents users from inadvertently creating
ill-formed documents.

The following sections of this paper discuss the \TeX{} technologies used by XLingPaper. 

\section{XLingPaper and \TeX{}}

The following sections provide more detail on the linguistic
publishing context, design requirements and \TeX{} packages used by
XLingPaper.

\subsection{ \TeX{} and Linguistic document production}

\TeX{} has long been embraced by linguists. Peter \cite{peter:2004}
writes of a personal communication with Don Knuth where Knuth suggests
that linguists were some of the earliest adopters outside of
mathematicians.  Thiele \cite{thiele:2007} in an interview given in
2007 states that she was typesetting linguistic journals via \TeX{} in
1983---a date prior to the release of Knuth's book on using the \TeX{}
typesetting system \cite{knuth:1984}. Thiele \cite{thiele:1995} gives
an early overview of \TeX{} use in linguistics with mention of
significant repositories outside of \CTAN{}. A slightly more recent
(2004) update by Peter \cite{peter:2004} provides some additional tips
and tools for typesetting common information structures in linguistic
publishing. The \TeX{} community has produced many packages which have
shaped the visual face of publishing in linguistics, including
\texttt{tipa}\footnote{\tbsurl{ctan.org/pkg/tipa}} by Rei
\cite{rei:1996} which is an excellent typeface for phonetic
transcriptions and
\texttt{pst-asr}\footnote{\tbsurl{ctan.org/pkg/pst-asr}} by
Frampton \cite{frampton:2006} for autosegmental representations. As
the Peter and Thiele articles list out and review (through 2004),
there are special packages for all areas of linguistics from syntax trees such as
\texttt{qtrees}\footnote{\tbsurl{ctan.org/pkg/qtrees}} and \texttt{forest}\footnote{\tbsurl{ctan.org/pkg/forest}}to
specialized packages for presenting examples and interlinear glossed
texts such as
\texttt{expex}.\footnote{\tbsurl{ctan.org/pkg/expex}} In addition
to packages which provide specific functionality, there are packages
which are essentially collections of macros such as
\texttt{covington}\footnote{\tbsurl{ctan.org/pkg/covington}} and
\texttt{gb4e}\footnote{\tbsurl{ctan.org/pkg/gb4e}} which serve a
variety of page layout functions targeted at publishing in linguistic
topics.

The \CTAN{} repository currently lists fifty-four different \TeX{}
packages for linguistic
typesetting,\footnote{\tbsurl{ctan.org/topic/linguistic}} though
some of these packages also include capabilities targeted as
multi-lingual or multi-script publications or are specific style sheet implementations for
publications at linguistic programs at institutions of higher
education (and there may be more which are not tagged but should
be). Several of the packages tagged “linguistic” pre-date
Unicode \cite{unicode:1991} but still see significant use. Sometimes it
is the case that secondary packages are developed in an attempt to
“fix” publishing outputs in different ways to bring Unicode features
along with the features of the original package. For example,
\acro{TIPA} is not Unicode compatible, but the packages
\texttt{unitipa}\footnote{\tbsurl{ctan.org/pkg/unitipa}} and
\texttt{tipauni}\footnote{\tbsurl{ctan.org/pkg/tipauni}} seek to
address different implications of not publishing with Unicode while giving access to the beautiful typeface of
 \acro{TIPA}. Understanding the long history of publishing and
the interdependency that packages have presents additional
complexities to new \TeX{} users.

Mentioning these complexities is important to the XLingPaper
discussion for two reasons. First, it exemplifies some of the
complexities that XLingPaper seeks to simplify as it presents
authors not just a visual environment for document composition, but
also a cohesive output solution. Second, while the diagrams in
linguistic books and journals since the 1980's exemplify many
beautiful, sharp, crisp, illustrations created directly in \TeX{},
many trainers of \TeX{} tools, but not all,\footnote{For counter
examples see \cite{liter:2017} \cite{smithsniderwiegand:2016}
\cite{freitagupriemer:2019} and \cite{priemerufreitag:2019}.} have
steered authors towards a more generic set of packages which do not
include specific diagram creating macros.\footnote{Among others, see
the Linguistics Dissertation guide for the University of
Hawai{\SpecialCharactersFont{ʻ}}i at Mānoa \cite{holton:2021},
University of Pennsylvania \cite{dimitriadis:2016}, and Language
Science Press Guidelines \cite{nordhoffandmueller:2020}.} Rather, they
suggest that authors use secondary illustration tools to generate
illustrations and then include them as vector \PDF{}s or images. In
fact this second method is the document production path that the
XLingPaper philosophy follows. That is, XLingPaper reduces the complexity of the typesetting task for authors by requiring complex visualizations to be produced via grpahical tools. We have found tools like Figma\footnote{\tbhurl{www.figma.com}} and Inkscape\footnote{\tbhurl{inkscape.org}} very helpful in the graphic production task.}

As mentioned in the discussion of \acro{TIPA}, Linguistic documents have not always been typeset with Unicode. Unicode was introduced in 1991 and by the early 2000's Unicode along with document and data storage in \XML{} formats  were being heralded in academic linguistics as a best practice in order to avoid vendor lock-in, increase interoperability across use cases, and to seperate data life-cylces from encoding or software life-cycles \cite{BirdSimons:2002}
\cite{BirdSimons:2003} \cite{ward:2002}. Due to the heavy reliance on
Unicode by practictioners of modern language documentation and linguistic work,
XLingPaper specifically uses \XeLaTeX{} and compatible packages to
produce \PDF{} outputs. This brings continuity to the text input
process for users across their workflows. It also makes importing and
using language or phonetically transcribed examples simpler by removing
the need to use macros to create characters.

\subsection{Design desiderata for XLingPaper outputs via \TeX{}}

From the outset, XLingPaper was designed to be free.  The \XXE{} had a
Personal Use License that met this requirement for the vast majority
of the target audience of XLingPaper.  The few who did not meet the
terms of that license most likely would be able to afford to purchase
(or have their organization purchase) a professional version of the
\XXE{}.  The actual XLingPaper plug-in has always been free.

XLingPaper development started in 2001. In 2006, it added \XSLFO{}
for \PDF{} production. Prior to 2009, XLingPaper used
RenderX\footnote{\tbhurl{www.renderx.com}} to produce \PDF{}
documents. However, in 2009 plans were made to add \XeLaTeX-based
output to XLingPaper because, while there was a free version of
RenderX, the output contained a watermark.  By implementing the
ability to export to \PDF{} via \XeLaTeX, there would be no water
marks in \PDF{} documents. The \XeLaTeX{} method of \PDF{} production
is now the default method to produce \PDF{} documents.

When the \XeLaTeX{} method of \PDF{} production was introduced,
XLingPaper had a way to format output per a user-created publisher
style sheet.  This meant the developer (Andrew Black) needed to be
able to map from an XLingPaper publisher style sheet to \XeLaTeX.
Mapping style sheet information contained in the \XML{} was the second
criterion.  It was known that \LaTeX\ was the ideal \TeX{}
implementation to target. However, pure \LaTeX\ came with predefined
output formatting for front matter, chapters, sections, back matter,
etc.  Pure \LaTeX, then, would not allow direct control of formatting
of all of these per an XLingPaper user-defined publisher style sheet.
This meant overriding these standard features of \LaTeX\ with a custom
implementation of the \TeX{} commands needed to control
formatting. However,
\texttt{memoir}\footnote{\tbsurl{ctan.org/pkg/memoir}}
\cite{wilson:2007} \cite{wilson:2021}, a recent discovery for the
programmer of XLingPaper, accomplishes many of the same tasks and
could be considered to replace some of the custom code if it were
shown to be easy to implement and that the size of the total
XLingPaper code base would be reduced.

The third criterion concerned some of the target audience for
XLingPaper.  Many of the expected users of XLingPaper live and work in
places around the world where Internet connections are characterized
by high costs, low bandwidth capacity, and general unavailability.
Therefore, the download required to install XLingPaper needed to be as
small as possible.  The size constraint impacts XLingPaper because its
distribution must be independent of larger mainstream \TeX{}
distribution solutions such as \TeX{}Live which have a large
footprint.  Therefore the developer determined which \LaTeX\ packages
and binaries were needed and created a custom installation package for
just those items (a list of these packages is included in section 6.1).

The twenty \LaTeX\ packages that are part of the custom XLingPaper
distribution are still rather large for someone for whom Internet
bandwidth is an expensive and inconsistent commodity. To reduce
bandwidth requirements two assumptions were made which have more or
less proven to obtain. The first assumption that the developer made
was that the twenty packages and binaries would not need to change
over time; in contrast, the second assumption was that XLingPaper
would acquire new features and need bug fixes. These assumptions
resulted in an architecture where page layout information expressed in
\XML{} is translated via custom \TeX{} commands to either \TeX{}
directly or to commands understood by \LaTeX{} packages distributed
with XLingPaper. This abstraction layer was then executed when the
\XeLaTeX{} file was processed. This middle layer has granted
XLingPaper flexibility in adding new code and capabilities while
keeping the “heavy” \LaTeX\ packages stable. The net result is a
“heavy” first install package, but light-weight upgrade packages. In
the thirteen year history of development, there have been a few
occasions where upgrades have required the download of new “heavy”
packages. One such case was when the ability to use framed units was added. These
elements depend on the
\texttt{mdframed}\footnote{\tbsurl{ctan.org/pkg/mdframed}}
package \cite{DanielandSchubert:2013}. The architecture separating
stable packages from custom code, however, has generally worked out
well and kept update sizes low.

\subsection{\PDF{} production}

When an author has XLingPaper produce \PDF{} output via \XeLaTeX,
XLingPaper produces a \TeXML{}-like \XML{} file.  This is then
converted into \LaTeX\ format via a set of \acro{XSLT} transforms and
processed via \XeLaTeX{} to produce the \PDF{}.  Figure~3 contains a
diagram of the data handeling process.

\subsection{\TeXML{}}

In the process of planning for the transition of the default \PDF{}
renderer from RenderX to \XeLaTeX{}, \TeXML{} was discovered. However,
initial analysis conducted in 2009 understood it to have two infelicities:

\begin{enumerate}
\item \TeXML{} has Python as a dependency and the developer did not
  want to force XLingPaper users to have to install a version of
  Python specifically for \TeXML{} when that version might conflict
  with other installed versions of Python.  Furthermore, this approach
  would make the installation package for XLingPaper much larger due to the inclusion
  of Python.
\item XLingPaper users require a high degree of control for white
  space. The fine grain control of whitespace was not clearly was possible via \TeXML{}.
\end{enumerate}

\TeX{} and \XML{} both have control characters. In \TeX{} these include \texttt{{[}}, \texttt{{]}},
\texttt{\textless{}}, and \texttt{\textgreater{}}. When transforming data between \XML{} and \TeX{}, \TeX{} control characters and commands need to be escaped to ensure proper data processing. This has been implemented via Java because Java was already present in the dependancy stack due to \XXE{} requiring it. Additionally, some small scripts have been written in Java to provide additional access to features via the graphical user interface.

\subsection{Ling-TeX}

One might ask, Why not add more linguistic related \TeX{} packages to the available stack, or use those instead of creating custom code? The answer has two simple parts: (1) in 2009 the linguistic capabilities of \TeX{} packages was different than it is today, (2) XLingPaper is more than an \TeX{} document producer, it seeks to implement its typeset design with XSL-FO compatibility across all the output formats. When the developer began to implement the \XeLaTeX{}-based output, he discovered the Ling-\TeX{} group\footnote{\tbhurl{web.archive.org/web/20150702123633/http://heim.ifi.uio.no/~dag/ling-tex/}} which also ran the Ling-TeX mailing list from 1995–2018.\footnote{\tbsurl{ling-tex.ifi.uio.narkive.com}} Ling-TeX seemed to be the locus of activity in linguistic typesetting even though other webpages discussing linguistics and \TeX{} also exsited, e.g., Essex,\footnote{\tbsurl{www.essex.ac.uk/linguistics/external/clmt/latex4ling}} UPenn.\footnote{\tbsurl{www.ling.upenn.edu/advice/latex.html}}
Today, now that the mailing list is no-longer in operation many of the mailing list participants can be found interacting on the
\TeX{} stackexchange.\footnote{\tbsurl{tex.stackexchange.com}}
At the time, the Ling-\TeX{} website recomended \texttt{covingtn} and {\em ling-mac}; the list of macros discussed in \cite{thiele:1995} and to used to implement the more commonly implementd typesetting task as outlined in Section~4.

Initial analysis of \texttt{covingtn} and other packages revealed limitations in the number of rows an interlinear text example could display, a typesetting capability XLingPaper had already overcome via XSL-FO processing using RenderX. XLingPaper had no limits on the number of lines within an
interlinear grouping, no limits on the number of free (and/or) literal
lines, including a source reference within the interlinear, and
especially tagging interlinear items with an \acro{ISO} 639-3 code for
the language used in the interlinear.  At the time the best solution given the state of the \TeX{} packates available was custom \TeX{} scripts, although now similar features may be possible via other packages. See Pellard \cite{pellard:2019} for discussion of approaches in \TeX{} and his solution \texttt{typgloss}.\footnote{\tbsurl{github.com/tpellard/typgloss}} Figure~4 contains an example output with some of the special capabilities XLingPaper offers.

\begin{figure*}
\includegraphics[scale=.97]{ExamplePDFInterlinear.png}
\caption{Interlinear example. Note the example numbers on the left followed by example groups (a) and (b). Each interlinear then also has a language indicator in square brackets. Customization allows for as many rows per group as is required. Finally, on the right the reference to the source text is indicated.}
\end{figure*}

\section{Typesetting tasks XLingPaper users often encounter}
%I am here Note: ExPex does not have the language code or the citation. langsci-gb4 supports Leipzig Glossing Rules which put the language on the right hand side and do not have a citation within the context of the example. linguex does not have either langauge or citation built in.
Linguistic documents have several formatting needs that other kinds of
documents do not. This section discusses some of them.

\subsection{Numbered example layouts}
%These figure refs need to be re-evaluated for accuracy
Linguistic documents usually have many numbered examples.  The prose
often refers to examples near the material or to previous examples.
XLingPaper automatically keeps track of the numbers.  Besides
table-like layouts, linguists also need lists of words along with
their glosses (as shown in Figure~4), interlinear clauses (as shown in
Figure~3), and even having headings in portions of the example.

\begin{figure*}
\includegraphics[scale=1.0]{GraphitePDF-Slide24.png}
\caption{List of words}
\end{figure*}

\subsection{Automatically wrapping interlinear texts}

Many linguists want to include interlinear glossed text in their
document.  XLingPaper allows these to be wrapped automatically which
makes the author's job much easier.  Figure~5 shows one such text
portion.

\begin{figure*}
\includegraphics[scale=0.97]{TextPDF-Slide21.png}
\caption{Wrapped interlinear text as seen in \cite{nmeAndMarlett:2011}.}
\end{figure*}

\subsection{Gloss abbreviations}

Linguists standardly use glosses for indicating the meaning of pieces
of words (morphemes).  XLingPaper allows the author to define a set of
abbreviations and their definitions.  When producing the output,
XLingPaper creates hyperlinks between the abbreviation and its
definition.

%\cite{lehmann:2004}

\section{Outputs \LaTeX{} allow that others do not}

While XLingPaper has a large array of linguistically-oriented
formatting capabilities, there are some that only the \XeLaTeX{}
output can produce.  This is, of course, due to the formatting power
of \TeX{} and \XeLaTeX{}.

\subsection{Automatically wrapping interlinears}

One of the most popular features of XLingPaper is its ability to
automatically wrap long interlinear examples and lines in interlinear
texts.  It does so by formatting each aligned word in an hbox and then
having \XeLaTeX{} put them together in a hanging indent paragraph.
This is based on the work of Kew \& McConnel 1990 \cite{kew:mcconnel}.

\subsection{Font rendering}
%for discussing fonts several works need to be added to the bibliography: http://root.tug.org/tugboat/tb29-1/tb91kew.pdf, https://www.w3.org/Talks/2003/Extending%20SVG%20Fonts%20with%20Graphite.pdf, http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.530.8865, http://rabbits.continuation.org/w/images/7/73/Graphite_paper.pdf, https://onlinelibrary-wiley-com.libproxy.uoregon.edu/doi/abs/10.1002/spe.819
\XeLaTeX{} renders fonts extremely well.  It can even handle special
features requiring Graphite\footnote{\tbsurl{graphite.sil.org}}
processing.  For other outputs, some fonts (such as Charis \SIL{}) may
not line up vertically as expected due to them having different
ascender and descender values. One has to add custom commands to deal
with these.  In the case of Graphite, they may not be able to be done
at all.  The RenderX way of producing \PDF{} cannot handle stacked
diacritics, but the \XeLaTeX{} way does it very well.

\subsection{Hyphenation for non-English languages}

Since we use the \texttt{polyglossia} package, one can write an
XLingPaper document in a non-English language and \XeLaTeX{} will
hyphenate according to that language’s hyphenation rules.

\subsection{Author contact information}

XLingPaper allows one to define a set of contact information for
authors.  Only the \XeLaTeX{} output is able to format them correctly.

\subsection{Vertical fill}

For title page material, only the \XeLaTeX{} output allows using
vertical fill between items.  The other outputs require using overt,
fixed spacing values.

\subsection{Blank page}

When one wants a totally blank even-numbered page between a final
odd-numbered page and the next odd-numbered page which begins, say, a
chapter or appendix, only the \XeLaTeX{} approach is able to do this.

\section{Features other outputs have that the \LaTeX{} output does not}

\XeLaTeX{} does not allow for custom table cell padding and spacing.
Having said that, Andy cannot remember any XLingPaper user ever asking
for a way to do this for the \XeLaTeX{} output.  It just looks great.

Background color is not available for section titles.

Section 11.17.1.1 “Known limitations of using
\XeLaTeX{}” in the XLingPaper user documentation lists known
problems.
%  See \tbsurl{software.sil.org/downloads/r/xlingpaper/resources/documentation/xxe7/UserDocXMLmind.htm#sXeTeXLimitations}.

\subsection{List of \LaTeX{} packages used}

XLingPaper currently uses the following \XeLaTeX{} packages (in
alphabetical order):

\begin{tabular}{@{}ll@{}}
\texttt{attachfile2} & \texttt{lineno}\\
\texttt{booktabs} & \texttt{longtable}\\
\texttt{calc} & \texttt{lscape}\\
\texttt{color} & \texttt{mdframed}\\
\texttt{colortbl} & \texttt{multirow}\\
\texttt{etoolbox} & \texttt{normalem}\\
\texttt{fancyhdr} & \texttt{polyglossia}\\
\texttt{fontspec} & \texttt{setspace}\\
\texttt{footmisc} & \texttt{tabularx}\\
\texttt{hyperref} & \texttt{xltxtra}\\
\end{tabular}

\subsection{Custom \TeX{} commands}

XLingPaper has a number of custom commands that enable it to handle
various tasks in a way that is consistent with our desired outcomes.
The following lists some of them in a schematic way:

\begin{tabular}{@{}lp{1.5in}@{}}
{\bf Command for} & {\bf Purpose}\\
Table of contents & Store and retrieve page numbers; format the
contents.\\ Lists & Numbered and bulleted lists with control over
indents, etc.\\ Examples & Example number and example content, where
the content can be a line, a list of lines, a set of words, a list of
a set of words, interlinear, a list of interlinears, etc.\\
Indexes & Handle keeping track of XLingPaper’s indexing
capability, including page numbers.\\
Interlinears & Handle lines in an interlinear text or example,
including dealing with an \acro{ISO} 639-3 code in an interlinear
example.\\
Block quotes & Handle special cases needed for block quotes.\\
Table headers & Attempt to calculate a column’s width via its
contents.\\
\end{tabular}

\section{Conclusion}

While the XLingPaper approach to writing linguistic documents has
great value in and of itself, the fact that it can produce great
looking output via \XeLaTeX{} makes it very worthwhile learning to
use.  We feel that being able to produce \PDF{} via \XeLaTeX{} has
made XLingPaper a fantastic tool for linguists.

\bibliographystyle{tugboat}
%\nocite{book-minimal}      % make the bibliography non-empty
%\bibliography{xampl}       % xampl.bib comes with BibTeX
\begin{thebibliography}{99}

\bibitem{BeadleandLee:2020a}{Beadle, Jennie, and Matthew
  Lee. 2020a. {\em Paratext 9 Manual – in English}. \SIL{}
  International. \tbsurl{lingtran.net}.}

\bibitem{BeadleandLee:2020b}{Beadle, Jennie, and Matthew
  Lee. 2020b. {\em Paratext 9 Manual – in French}. \SIL{}
  International. \tbsurl{outilingua.net}.}

\bibitem{BirdSimons:2002}{Bird, Steven, and Gary Simons. 2002. Seven Dimensions of Portability for Language Documentation and Description. In \acro{ISCA SALTMIL SIG}: “Speech and Language Technology for Minority Languages,” 23–30. Las Palmas, Canary Islands, Spain: \acro{ELRA}. \tbhurl{www.lrec-conf.org/proceedings/lrec2002/pdf/ws15.pdf#page=29}.}

\bibitem{BirdSimons:2003}{Bird, Steven, and Gary Simons. 2003. Seven Dimensions of Portability for Language Documentation and Description. {\em Language} 79 (3):557–82. \tbhurl{www.jstor.org/stable/4489465}.}

\bibitem{blackandblack:2012}{Black, Cheryl A., and H. Andrew
  Black. 2012. {\em Grammars for the People, by the People, Made
    Easier Using \acro{PAWS} and XlingPaper}. In Electronic Grammaticography,
  edited by Sebastian Nordoff, 103–28. LD\&C Special
  Publication 4. Honolulu, Hawai{\SpecialCharactersFont{ʻ}}i: University of Hawai{\SpecialCharactersFont{ʻ}}i
  Press. \tbhurl{hdl.handle.net/10125/4532}.}

\bibitem{black:2009}{Black, H. Andrew. 2009. Writing Linguistic Papers
  in the Third Wave.  {\em \SIL{} Forum for Language Fieldwork} 2009
  (004): 11
  pages. \tbsurl{www.sil.org/resources/publications/entry/7790}.}

\bibitem{black:2017}{Black, H Andrew. 2017. {\em Why Learn to Use
    XLingPaper}. Dallas, Texas: \SIL{}
  International. \tbsurl{software.sil.org/downloads/r/xlingpaper/resources/documentation/WhyUseXLingPaper.pdf}.}

\bibitem{brownie:2013}{Brownie, John. 2013. Adverbs in the
Mussau-Emira Verb Phrase. {\em Language \& Linguistics in Melanesia}
31(1):1–11. \tbsurl{www.langlxmelanesia.com/issues}.}

\bibitem{buck:2018}{Buck, Marjorie J. 2018. {\em Gramática del amuzgo
    Xochistlahuaca, Guerrero}. (Serie de gramáticas de lenguas
  indígenas de México No16.) Tlalpan, Ciudad de México, México:
  Instituto Lingüístico de Verano, A.C. [\SIL{} International in
    Mexico]. \tbsurl{www.sil.org/resources/archives/75518}.}

\bibitem{DanielandSchubert:2013}{Daniel, Marco, and Elke
  Schubert. 2013. {\em The \texttt{mdframed} Package: Auto-split Frame
    environment} version 1.9b.}

\bibitem{dimitriadis:2016}{Dimitriadis, Alexis. 2016. {\em TeX/LaTeX Information}. Web page. \tbsurl{www.ling.upenn.edu/advice/latex.html}.}

\bibitem{donnelly:2013}{Donnelly, Kevin. 2013. Representing Linguistic Pitch in \XeLaTeX{}. {\em TUGboat} 34 (2): 223–27. \tbhurl{tug.org/TUGboat/tb34-2/tb107donnelly.pdf}.}

\bibitem{ebarb:2014}{Ebarb, Kristopher J. 2014. {\em Tone and
    variation in Idakho and other Luhya varieties}. University of Indiana  Ph.D. dissertation. \tbsurl{pqdtopen.proquest.com/doc/1625743679.html?FMT=ABS}.}

\bibitem{frampton:2006}{Frampton, John. 2006. {\em Pst-Asr: Tex Macros for Typesetting Autosegmental Representations}. Version:1.1. \CTAN{}. \tbhurl{www.bakoma-tex.com/doc/generic/pst-asr/pst-asr-doc.pdf}.}

\bibitem{frampton:2012}{Frampton, John. 2012. {\em ExPex for Linguists: Example Formatting, Glosses, and Reference}. Version: 4.1. \tbhurl{mathserver.neu.edu/~ling/tex/expex/base/doc/expex-doc.pdf}.}

\bibitem{freitagupriemer:2019}{Freitag, Constantin and Antonio Machicao y Priemer. 2019. {\em LaTeX-Einführung Für Linguisten}. Berlin, Germany: Humboldt-Universität zu Berlin. \tbsurl{doi.org/10.13140/RG.2.2.29299.27682}.}

\bibitem{holton:2021}{Holton, Gary. 2021. {\em Writing You Dissertation with \LaTeX}. Typescript. Hawai{\SpecialCharactersFont{ʻ}}i. Github.com. \tbsurl{gmholton.github.io/files/DissertationWriting.pdf}.}

\bibitem{kew:mcconnel}{Kew, Jonathan and Stephen McConnel. 1990.  {\em
    Formatting Interlinear Text.} Occasional Publications in Academic
  Computing, Number 17. Dallas, Texas: Summer Institute of
  Linguistics.}

\bibitem{knuth:1984}{Knuth, Donald Ervin. 1984. {\em The \TeX book.}
  A. Computers \& typesetting. Reading, Massachusetts: American
  Mathematical Society; Addison-Wesley.}

\bibitem{knuth:1986}{Knuth, Donald Ervin. 1986. {\em \TeX: The
    Program.} B. Computers \& typesetting. Reading, Massachusetts:
  Addison-Wesley.}

\bibitem{lamicela:2020}{Lamicela, Andrew Charles. 2020. {\em
    Distinguishing Passive from MP2-marked Middle in Koine
    Greek}. University of North Dakota
  M.A. thesis. \tbsurl{commons.und.edu/theses/3277}.}

\bibitem{lehmann:2004}{Lehmann, Christian. 2004. {\em Interlinear
    morphemic glossing}. In Morphologie: Ein internationales Handbuch
  zur Flexion und Wortbildung Morphology: an international handbook on
  inflection and word-formation, edited by Geert E Booij, Christian
  Lehmann, Joachim Mugdan, and Stavros Skopeteas,
  2:1834–57. Handbücher zur Sprach- und Kommunikationswissenschaft
  Handbooks of Linguistics and communication science 17. Berlin ; New
  York: Walter de
  Gruyter. \tbsurl{doi.org/10.1515/9783110172782.2.20.1834}.}

\bibitem{liter:2017}{Liter, Adam. 2017. {\em LATEX Workshop (for Linguists)}. \tbsurl{adamliter.org/content/LaTeX/latex-workshop-for-linguists.pdf}.}

\bibitem{lovell:1999}{Lovell, Douglas.  1999. \TeXML{}: Typesetting
  \XML{} with \TeX. {\em TUGboat}. 20 (3):
  176–183. \tbsurl{tug.org/TUGboat/tb20-3/tb64love.pdf}.}

\bibitem{marlett:2019}{Marlett, Stephen A. 2019. {\em Phonology From
    the Ground Up: The Basics}. Dallas, Texas: \SIL{}
  International. \tbsurl{www.sil.org/resources/archives/79207}.}

\bibitem{nmeAndMarlett:2011}{Neri Méndez, Emilia and Stephen A. Marlett. 2011 (Nov). Presentación Analítica del Texto “Flor de Calabaza”. In Stephen A. Marlett (ed.) {\em Los Archivos Lingüísticos Me'phaa} (versión preliminar). SIL International, Mexico. \tbsurl{mexico.sil.org/publications/i-wpindex/work_papers_-_mephaa_grammar_files}.}

\bibitem{nordhoffandmueller:2020}{Nordhoff, Sebastian, and Stefan Müller. 2020. {\em Language Science Press Guidelines}. Berlin, Germany: Language Science Press. \tbsurl{langsci.github.io/guidelines/latexguidelines/LangSci-guidelines.pdf}.}

\bibitem{paterson:2021}{Paterson III, Hugh J. 2021. {\em Language
    Archive Records: Interoperability of Referencing Practices and
    Metadata Models}. University of North Dakota
  M.A. thesis. \tbsurl{commons.und.edu/theses/3937}.}

\bibitem{pellard:2019}{Pellard, Thomas. 2019. Automatic formatting of interlinear glosses with LaTeX. {\em Cipanglossia} \tbsurl{cipanglo.hypotheses.org/1221}.}

\bibitem{peter:2004}{Peter, Steve. 2004. TEX and Linguistics. {\em TUGboat} 25 (1): 58–62. \tbsurl{tug.org/TUGboat/tb25-1/peter.pdf}.}

\bibitem{priemerufreitag:2019}{Machicao y Priemer, Antonio, and Constantin Freitag. 2019. {\em LaTeX-Einführung Für Linguisten}. Presentation at the MGK Workshop – SFB 1412, Berlin. doi:\tbsurl{www.linguistik.hu-berlin.de/de/staff/amyp/latex20sfb/07-l4l-math2-trees-handout.pdf}.}

\bibitem{rasmussen:2018}{Rasmussen, Kent. 2018. {\em A Comparative
    Tone Analysis of Several Bantu D30 Languages (DR
    Congo)}. University of Texas Arlington
  Ph.D. dissertation. \tbhurl{hdl.handle.net/10106/27483}.}

\bibitem{rei:1996}{Rei, Fukui. 1996. \acro{TIPA}: A System for Processing Phonetic Symbols in LATEX. {\em  TUGboat} 17 (2): 102–14. \tbsurl{www.tug.org/TUGboat/tb17-2/tb51rei.pdf}.}

\bibitem{smithsniderwiegand:2016}{Smith, Zac, Todd Snider, and Mia Wiegand. 2016. {\em LaTeX and Linguistics - How to Make Your Research Pretty}. Presentation at the Cornell Linguistics Circle, Cornell, New York. \tbsurl{conf.ling.cornell.edu/miawiegand/Latex_Slides.pdf}.}

\bibitem{thiele:1995}{Thiele, Christina. 1995. TEX and Linguistics. {\em TUGboat} 16 (1): 42–44. \tbsurl{tug.org/TUGboat/tb16-1/tb46ling.pdf}.}

\bibitem{thiele:2007}{Thiele, Christina. 2007. {\em Christina Thiele Interview by Dave Walden for the \TeX{} Users Group}. Transcript. \tbsurl{tug.org/interviews/thiele.html}.}

\bibitem{unicode:1991}{Unicode Consortium, ed. 1991. {\em The Unicode Standard: Worldwide Character Encoding}. Version 1.0. Reading, Massachusetts: Addison-Wesley. \tbsurl{www.unicode.org/versions/Unicode1.0.0}.}

\bibitem{ward:2002}{Ward, Monica. 2002. Reusable XML Technologies and the Development of Language Learning Materials. {\em ReCALL} 14 (2): 285–94. \tbsurl{doi.org/10.1017/S0958344002000629}.}

\bibitem{wilson:2007}{Wilson, Peter. 2007. The Memoir Class. {\em
    TUGboat} 28 (2): 243–46. \tbsurl{www.tug.org/TUGboat/tb28-2/tb89wilson.pdf}.}

\bibitem{wilson:2021}{Wilson, Peter. 2021. {\em The Memoir Class for Configurable Typesetting: User Guide}. version 3.70. Normandy Park, WA: The Herries Press. \tbsurl{texdoc.org/serve/memoir/0}.}

\bibitem{Wood:2012}{Wood, Joyce Kathleen. 2012. {\em Valence-Increasing Strategies in Urim Syntax}. Graduate Institute
  of Applied Linguistics M.A. thesis. \tbsurl{www.diu.edu/documents/theses/Wood_Joyce-thesis.pdf}.}

%These are not yet used in the text

\bibitem{BeierandMichael:2022}{Beier, Christine, and Lev
  Michael. 2022. {\em Managing Lexicography Data: A Practical,
    Principled Approach Using FLEx (FieldWorks Language Explorer)}. In
  The Open Handbook of Linguistic Data Management, edited by Andrea
  L. Berez-Kroeker, Bradley McDonnell, Eve Koller, and Lauren
  B. Collister, 301–14. Open Handbooks In Linguistics. Cambridge,
  Massachusetts: The MIT
  Press. \tbsurl{doi.org/10.7551/mitpress/12200.003.0029}.}

\bibitem{conzettanddesmedt:2022}{Conzett, Philipp, and Koenraad De Smedt. 2022. {\em Guidance for Citing Linguistic Data}. In The Open Handbook of Linguistic Data Management, edited by Andrea L. Berez-Kroeker, Bradley McDonnell, Eve Koller, and Lauren B. Collister, 143–55. Open Handbooks In Linguistics. Cambridge, Massachusetts: The MIT Press. \tbsurl{doi.org/10.7551/mitpress/12200.003.0015}.}


\bibitem{schennerandnordhoff:2016}{Schenner, Mathias, and Sebastian Nordhoff. 2016. {\em Extracting Interlinear Glossed Text from LATEX Documents}. In Proceedings of the Tenth International Conference on Language Resources and Evaluation (LREC 2016), edited by Nicoletta Calzolari, Khalid Choukri, Thierry Declerck, Sara Goggi, Marko Grobelnik, Bente Maegaard, Joseph Mariani, et al., 4044–48. Portorož, Slovenia: European Language Resources Association (ELRA). \tbsurl{www.aclweb.org/anthology/L16-1638.pdf}.}

%These are likely to be added for unicode discussion
% https://pure.mpg.de/rest/items/item_58925/component/file_58926/content unicode
%https://www.researchgate.net/profile/Hennie-Brugman/publication/238473992_Annotating_Multimedia_Multi-modal_resources_with_ELAN/links/53fd90320cf22f21c2f80afd/Annotating-Multimedia-Multi-modal-resources-with-ELAN.pdf
%PSTricks https://www.tug.org/TUGboat/tb31-1/tb97complete.pdf#38
%

% I need to add Donnely into the narrative
\end{thebibliography}

\makesignature
\end{document}
